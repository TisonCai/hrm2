{"remainingRequest":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/caichaosen/Code/web/hrm-ui2/src/layout/OkrLayout.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/caichaosen/Code/web/hrm-ui2/src/layout/OkrLayout.vue","mtime":1612438665830},{"path":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IE5hdmJhciwgU2lkZWJhciwgQXBwTWFpbiB9IGZyb20gJy4vY29tcG9uZW50cycKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ09rckxheW91dCcsCgogIGNvbXBvbmVudHM6IHsKICAgIE5hdmJhciwKICAgIFNpZGViYXIsCiAgICBBcHBNYWluCiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzQ3JlYXRlOiBmYWxzZSwKICAgICAgY3JlYXRlQWN0aW9uOiBudWxsLAogICAgICBjcmVhdGVDUk1UeXBlOiAnJwoKICAgIH0KICB9LAoKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbJ2NybScsICdjcm1Sb3V0ZXJzJ10pLAogICAgLy8g5b+r5o235re75YqgCiAgICBxdWlja0FkZExpc3QoKSB7CiAgICAgIHZhciBhZGRJdGVtcyA9IFtdCiAgICAgIGlmICh0aGlzLmNybS5sZWFkcyAmJiB0aGlzLmNybS5sZWFkcy5zYXZlKSB7CiAgICAgICAgYWRkSXRlbXMucHVzaCh7CiAgICAgICAgICBpY29uOiAnbGVhZHMnLAogICAgICAgICAgaW5kZXg6ICdsZWFkcycsCiAgICAgICAgICBsYWJlbDogJ+e6v+e0oicKICAgICAgICB9KQogICAgICB9CiAgICAgIGlmICh0aGlzLmNybS5jdXN0b21lciAmJiB0aGlzLmNybS5jdXN0b21lci5zYXZlKSB7CiAgICAgICAgYWRkSXRlbXMucHVzaCh7CiAgICAgICAgICBpY29uOiAnY3VzdG9tZXInLAogICAgICAgICAgaW5kZXg6ICdjdXN0b21lcicsCiAgICAgICAgICBsYWJlbDogJ+WuouaItycKICAgICAgICB9KQogICAgICB9CiAgICAgIGlmICh0aGlzLmNybS5jb250YWN0cyAmJiB0aGlzLmNybS5jb250YWN0cy5zYXZlKSB7CiAgICAgICAgYWRkSXRlbXMucHVzaCh7CiAgICAgICAgICBpY29uOiAnY29udGFjdHMnLAogICAgICAgICAgaW5kZXg6ICdjb250YWN0cycsCiAgICAgICAgICBsYWJlbDogJ+iBlOezu+S6uicKICAgICAgICB9KQogICAgICB9CiAgICAgIGlmICh0aGlzLmNybS5idXNpbmVzcyAmJiB0aGlzLmNybS5idXNpbmVzcy5zYXZlKSB7CiAgICAgICAgYWRkSXRlbXMucHVzaCh7CiAgICAgICAgICBpY29uOiAnYnVzaW5lc3MnLAogICAgICAgICAgaW5kZXg6ICdidXNpbmVzcycsCiAgICAgICAgICBsYWJlbDogJ+WVhuacuicKICAgICAgICB9KQogICAgICB9CgogICAgICBpZiAodGhpcy5jcm0uY29udHJhY3QgJiYgdGhpcy5jcm0uY29udHJhY3Quc2F2ZSkgewogICAgICAgIGFkZEl0ZW1zLnB1c2goewogICAgICAgICAgaWNvbjogJ2NvbnRyYWN0JywKICAgICAgICAgIGluZGV4OiAnY29udHJhY3QnLAogICAgICAgICAgbGFiZWw6ICflkIjlkIwnCiAgICAgICAgfSkKICAgICAgfQogICAgICBpZiAodGhpcy5jcm0ucmVjZWl2YWJsZXMgJiYgdGhpcy5jcm0ucmVjZWl2YWJsZXMuc2F2ZSkgewogICAgICAgIGFkZEl0ZW1zLnB1c2goewogICAgICAgICAgaWNvbjogJ3JlY2VpdmFibGVzJywKICAgICAgICAgIGluZGV4OiAncmVjZWl2YWJsZXMnLAogICAgICAgICAgbGFiZWw6ICflm57mrL4nCiAgICAgICAgfSkKICAgICAgfQogICAgICBpZiAodGhpcy5jcm0uaW52b2ljZSAmJiB0aGlzLmNybS5pbnZvaWNlLnNhdmUpIHsKICAgICAgICBhZGRJdGVtcy5wdXNoKHsKICAgICAgICAgIGljb246ICdpbnZvaWNlJywKICAgICAgICAgIGluZGV4OiAnaW52b2ljZScsCiAgICAgICAgICBsYWJlbDogJ+WPkeelqCcKICAgICAgICB9KQogICAgICB9CiAgICAgIGlmICh0aGlzLmNybS52aXNpdCAmJiB0aGlzLmNybS52aXNpdC5zYXZlKSB7CiAgICAgICAgYWRkSXRlbXMucHVzaCh7CiAgICAgICAgICBpY29uOiAnaG91c2UnLAogICAgICAgICAgaW5kZXg6ICd2aXNpdCcsCiAgICAgICAgICBsYWJlbDogJ+WbnuiuvycKICAgICAgICB9KQogICAgICB9CiAgICAgIGlmICh0aGlzLmNybS5wcm9kdWN0ICYmIHRoaXMuY3JtLnByb2R1Y3Quc2F2ZSkgewogICAgICAgIGFkZEl0ZW1zLnB1c2goewogICAgICAgICAgaWNvbjogJ3Byb2R1Y3QnLAogICAgICAgICAgaW5kZXg6ICdwcm9kdWN0JywKICAgICAgICAgIGxhYmVsOiAn5Lqn5ZOBJwogICAgICAgIH0pCiAgICAgIH0KICAgICAgcmV0dXJuIGFkZEl0ZW1zCiAgICB9LAogICAgcXVpY2tBZGRPZmZzZXQoKSB7CiAgICAgIHJldHVybiBNYXRoLnJvdW5kKHRoaXMucXVpY2tBZGRMaXN0Lmxlbmd0aCAvIDIpICogMjUKICAgIH0KICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRjcm1NZXNzYWdOdW0oKQogIH0sCgogIG1vdW50ZWQoKSB7fSwKCiAgbWV0aG9kczogewogICAgbmF2Q2xpY2soaW5kZXgpIHt9LAoKICAgIGFkZFNraXAoaXRlbSkgewogICAgICB0aGlzLmNyZWF0ZUFjdGlvbiA9IHsKICAgICAgICB0eXBlOiAnc2F2ZScsCiAgICAgICAgaWQ6ICcnLAogICAgICAgIGRhdGE6IHt9CiAgICAgIH0KICAgICAgdGhpcy5jcmVhdGVDUk1UeXBlID0gaXRlbS5pbmRleAogICAgICB0aGlzLmlzQ3JlYXRlID0gdHJ1ZQogICAgfSwKCiAgICAvKioKICAgICAqIOiOt+WPlua2iOaBr+aVsAogICAgICovCiAgICBnZXRjcm1NZXNzYWdOdW0oKSB7CiAgICAgIHRoaXMuJHN0b3JlCiAgICAgICAgLmRpc3BhdGNoKCdHZXRNZXNzYWdlTnVtJykKICAgICAgICAudGhlbihyZXMgPT4ge30pCiAgICAgICAgLmNhdGNoKCgpID0+IHt9KQogICAgfSwKCiAgICAvKioKICAgICAqIOiPnOWNlemSoumerQogICAgICovCiAgICBoYW5kbGVTZWxlY3QoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdHZXRNZXNzYWdlTnVtJykKICAgIH0sCgogICAgLyoqCiAgICAgKiDmlrDlu7rlrqLmiLflkIzml7bmlrDlu7rogZTns7vkuroKICAgICAqLwogICAgLy8g5Yib5bu65pWw5o2u6aG16Z2iIOS/neWtmOaIkOWKnwogICAgY3JlYXRlU2F2ZVN1Y2Nlc3MoZGF0YSkgewogICAgICBpZiAoZGF0YSAmJiBkYXRhLmNyZWF0ZUNvbnRhY3RzKSB7CiAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ2N1c3RvbWVyJykgewogICAgICAgICAgdGhpcy5jcmVhdGVDUk1UeXBlID0gJ2NvbnRhY3RzJwogICAgICAgICAgdGhpcy5jcmVhdGVBY3Rpb24gPSB7CiAgICAgICAgICAgIHR5cGU6ICdyZWxhdGl2ZScsCiAgICAgICAgICAgIGNybVR5cGU6ICdjdXN0b21lcicsCiAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICBjdXN0b21lcjogZGF0YS5kYXRhCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuaXNDcmVhdGUgPSB0cnVlCiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["OkrLayout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"OkrLayout.vue","sourceRoot":"src/layout","sourcesContent":["<template>\n  <el-container>\n    haha\n    <el-header class=\"nav-container\">\n      <navbar\n        nav-index=\"/crm\"\n        @nav-items-click=\"navClick\"\n      />\n    </el-header>\n    <el-container>\n      <sidebar\n        :items=\"crmRouters\"\n        :add-offset=\"quickAddOffset\"\n        create-button-title=\"快速创建\"\n        main-router=\"crm\"\n        @select=\"handleSelect\"\n      >\n        <div\n          slot=\"add\"\n          class=\"quick-add\"\n        >\n          <div class=\"quick-add-content\">\n            <p\n              v-for=\"(item, index) in quickAddList\"\n              :key=\"index\"\n              @click=\"addSkip(item)\"\n            >\n              <i\n                :class=\"['wk', 'wk-' + item.icon]\"\n              /><span>{{ item.label }}</span></p>\n          </div>\n        </div>\n      </sidebar>\n\n      <el-main\n        id=\"crm-main-container\"\n        style=\"padding: 0;\"\n      >\n        <app-main />\n      </el-main>\n    </el-container>\n  </el-container>\n</template>\n\n<script>\nimport { Navbar, Sidebar, AppMain } from './components'\nimport { mapGetters } from 'vuex'\n\nexport default {\n  name: 'OkrLayout',\n\n  components: {\n    Navbar,\n    Sidebar,\n    AppMain\n  },\n\n  data() {\n    return {\n      isCreate: false,\n      createAction: null,\n      createCRMType: ''\n\n    }\n  },\n\n  computed: {\n    ...mapGetters(['crm', 'crmRouters']),\n    // 快捷添加\n    quickAddList() {\n      var addItems = []\n      if (this.crm.leads && this.crm.leads.save) {\n        addItems.push({\n          icon: 'leads',\n          index: 'leads',\n          label: '线索'\n        })\n      }\n      if (this.crm.customer && this.crm.customer.save) {\n        addItems.push({\n          icon: 'customer',\n          index: 'customer',\n          label: '客户'\n        })\n      }\n      if (this.crm.contacts && this.crm.contacts.save) {\n        addItems.push({\n          icon: 'contacts',\n          index: 'contacts',\n          label: '联系人'\n        })\n      }\n      if (this.crm.business && this.crm.business.save) {\n        addItems.push({\n          icon: 'business',\n          index: 'business',\n          label: '商机'\n        })\n      }\n\n      if (this.crm.contract && this.crm.contract.save) {\n        addItems.push({\n          icon: 'contract',\n          index: 'contract',\n          label: '合同'\n        })\n      }\n      if (this.crm.receivables && this.crm.receivables.save) {\n        addItems.push({\n          icon: 'receivables',\n          index: 'receivables',\n          label: '回款'\n        })\n      }\n      if (this.crm.invoice && this.crm.invoice.save) {\n        addItems.push({\n          icon: 'invoice',\n          index: 'invoice',\n          label: '发票'\n        })\n      }\n      if (this.crm.visit && this.crm.visit.save) {\n        addItems.push({\n          icon: 'house',\n          index: 'visit',\n          label: '回访'\n        })\n      }\n      if (this.crm.product && this.crm.product.save) {\n        addItems.push({\n          icon: 'product',\n          index: 'product',\n          label: '产品'\n        })\n      }\n      return addItems\n    },\n    quickAddOffset() {\n      return Math.round(this.quickAddList.length / 2) * 25\n    }\n  },\n\n  created() {\n    this.getcrmMessagNum()\n  },\n\n  mounted() {},\n\n  methods: {\n    navClick(index) {},\n\n    addSkip(item) {\n      this.createAction = {\n        type: 'save',\n        id: '',\n        data: {}\n      }\n      this.createCRMType = item.index\n      this.isCreate = true\n    },\n\n    /**\n     * 获取消息数\n     */\n    getcrmMessagNum() {\n      this.$store\n        .dispatch('GetMessageNum')\n        .then(res => {})\n        .catch(() => {})\n    },\n\n    /**\n     * 菜单钢鞭\n     */\n    handleSelect() {\n      this.$store.dispatch('GetMessageNum')\n    },\n\n    /**\n     * 新建客户同时新建联系人\n     */\n    // 创建数据页面 保存成功\n    createSaveSuccess(data) {\n      if (data && data.createContacts) {\n        if (data.type === 'customer') {\n          this.createCRMType = 'contacts'\n          this.createAction = {\n            type: 'relative',\n            crmType: 'customer',\n            data: {\n              customer: data.data\n            }\n          }\n          this.isCreate = true\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import './styles/common.scss';\n.el-container {\n  min-height: 0;\n  height: 100%;\n}\n.aside-container {\n  position: relative;\n  background-color: #2d3037;\n  box-sizing: border-box;\n}\n\n.nav-container {\n  padding: 0;\n  box-shadow: 0px 1px 2px #dbdbdb;\n  z-index: 100;\n  min-width: 1200px;\n}\n</style>\n"]}]}