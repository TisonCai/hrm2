{"remainingRequest":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/caichaosen/Code/web/hrm-ui2/src/layout/components/MessageCell.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/caichaosen/Code/web/hrm-ui2/src/layout/components/MessageCell.vue","mtime":1612486301275},{"path":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIGltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JwpleHBvcnQgZGVmYXVsdCB7CiAgLy8g5raI5oGvY2VsbAogIG5hbWU6ICdNZXNzYWdlQ2VsbCcsCiAgY29tcG9uZW50czogewoKICB9LAogIHByb3BzOiB7CiAgICBkYXRhOiBPYmplY3QsCiAgICBkYXRhSW5kZXg6IE51bWJlcgogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7fQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHR5cGVPYmooKSB7CiAgICAgIGNvbnN0IHR5cGVzT2JqID0gewogICAgICAgIGxlYWRzOiB7CiAgICAgICAgICBpY29uOiAnd2sgd2stbGVhZHMnLAogICAgICAgICAgY29sb3I6ICcjNjk5NUZGJywKICAgICAgICAgIHR5cGU6ICdsZWFkcycKICAgICAgICB9LAogICAgICAgIGN1c3RvbWVyOiB7CiAgICAgICAgICBpY29uOiAnd2sgd2stY3VzdG9tZXInLAogICAgICAgICAgY29sb3I6ICcjNjk5NUZGJywKICAgICAgICAgIHR5cGU6ICdjdXN0b21lcicKICAgICAgICB9LAogICAgICAgIGNvbnRhY3RzOiB7CiAgICAgICAgICBpY29uOiAnd2sgd2stY29udGFjdHMnLAogICAgICAgICAgY29sb3I6ICcjNjk5NUZGJywKICAgICAgICAgIHR5cGU6ICdjb250YWN0cycKICAgICAgICB9LAogICAgICAgIGJ1c2luZXNzOiB7CiAgICAgICAgICBpY29uOiAnd2sgd2stYnVzaW5lc3MnLAogICAgICAgICAgY29sb3I6ICcjNjk5NUZGJywKICAgICAgICAgIHR5cGU6ICdidXNpbmVzcycKICAgICAgICB9LAogICAgICAgIGNvbnRyYWN0OiB7CiAgICAgICAgICBpY29uOiAnd2sgd2stY29udHJhY3QnLAogICAgICAgICAgY29sb3I6ICcjNjk5NUZGJywKICAgICAgICAgIHR5cGU6ICdjb250cmFjdCcKICAgICAgICB9LAogICAgICAgIHJlY2VpdmFibGVzOiB7CiAgICAgICAgICBpY29uOiAnd2sgd2stcmVjZWl2YWJsZXMnLAogICAgICAgICAgY29sb3I6ICcjNjk5NUZGJywKICAgICAgICAgIHR5cGU6ICdyZWNlaXZhYmxlcycKICAgICAgICB9LAogICAgICAgIHByb2R1Y3Q6IHsKICAgICAgICAgIGljb246ICd3ayB3ay1wcm9kdWN0JywKICAgICAgICAgIGNvbG9yOiAnIzY5OTVGRicsCiAgICAgICAgICB0eXBlOiAncHJvZHVjdCcKICAgICAgICB9LAogICAgICAgIGxvZzogewogICAgICAgICAgaWNvbjogJ3drIHdrLWxvZycsCiAgICAgICAgICBjb2xvcjogJyM2OTk1RkYnLAogICAgICAgICAgdHlwZTogJ2xvZycKICAgICAgICB9LAogICAgICAgIGV4YW1pbmU6IHsKICAgICAgICAgIGljb246ICd3ayB3ay1hcHByb3ZlJywKICAgICAgICAgIGNvbG9yOiAnIzY5OTVGRicsCiAgICAgICAgICB0eXBlOiAnZXhhbWluZScKICAgICAgICB9LAogICAgICAgIHRhc2s6IHsKICAgICAgICAgIGljb246ICd3ayB3ay1vLXRhc2snLAogICAgICAgICAgY29sb3I6ICcjNjk5NUZGJywKICAgICAgICAgIHR5cGU6ICd0YXNrJwogICAgICAgIH0sCiAgICAgICAgYW5ub3VuY2VtZW50OiB7CiAgICAgICAgICBpY29uOiAnd2sgd2stYW5ub3VuY2VtZW50JywKICAgICAgICAgIGNvbG9yOiAnIzY5OTVGRicsCiAgICAgICAgICB0eXBlOiAnYW5ub3VuY2VtZW50JwogICAgICAgIH0sCiAgICAgICAgc2NoZWR1bGU6IHsKICAgICAgICAgIGljb246ICd3ayB3ay1zY2hlZHVsZScsCiAgICAgICAgICBjb2xvcjogJyM2OTk1RkYnLAogICAgICAgICAgdHlwZTogJ3NjaGVkdWxlJwogICAgICAgIH0sCiAgICAgICAgaW52b2ljZTogewogICAgICAgICAgaWNvbjogJ3drIHdrLWludm9pY2UnLAogICAgICAgICAgY29sb3I6ICcjNjk5NUZGJywKICAgICAgICAgIHR5cGU6ICdpbnZvaWNlJwogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gMSDku7vliqEgMiDml6Xlv5cgMyBvYeWuoeaJuSA05YWs5ZGKIDUg5pel56iLIDYg5a6i5oi3566h55CGCiAgICAgIGxldCBrZXkgPSAnJwogICAgICBpZiAodGhpcy5kYXRhLmxhYmVsICYmIHRoaXMuZGF0YS5sYWJlbCA8PSA1KSB7CiAgICAgICAga2V5ID0gWyd0YXNrJywgJ2xvZycsICdleGFtaW5lJywgJ2Fubm91bmNlbWVudCcsICdzY2hlZHVsZSddW3RoaXMuZGF0YS5sYWJlbCAtIDFdCiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKFsxLCAyLCAzXS5pbmNsdWRlcyh0aGlzLmRhdGEudHlwZSkpIHsKICAgICAgICAgIGtleSA9ICd0YXNrJwogICAgICAgIH0gZWxzZSBpZiAoWzQsIDUsIDM0XS5pbmNsdWRlcyh0aGlzLmRhdGEudHlwZSkpIHsKICAgICAgICAgIGtleSA9ICdsb2cnCiAgICAgICAgfSBlbHNlIGlmIChbNiwgNywgMjVdLmluY2x1ZGVzKHRoaXMuZGF0YS50eXBlKSkgewogICAgICAgICAga2V5ID0gJ2V4YW1pbmUnCiAgICAgICAgfSBlbHNlIGlmIChbOF0uaW5jbHVkZXModGhpcy5kYXRhLnR5cGUpKSB7CiAgICAgICAgICBrZXkgPSAnYW5ub3VuY2VtZW50JwogICAgICAgIH0gZWxzZSBpZiAoWzEwLCAxMSwgMjQsIDI2LCAzMCwgMzNdLmluY2x1ZGVzKHRoaXMuZGF0YS50eXBlKSkgewogICAgICAgICAga2V5ID0gJ2NvbnRyYWN0JwogICAgICAgIH0gZWxzZSBpZiAoWzEyLCAxMywgMjddLmluY2x1ZGVzKHRoaXMuZGF0YS50eXBlKSkgewogICAgICAgICAga2V5ID0gJ3JlY2VpdmFibGVzJwogICAgICAgIH0gZWxzZSBpZiAoWzE0LCAxNSwgMjMsIDI5LCAzMl0uaW5jbHVkZXModGhpcy5kYXRhLnR5cGUpKSB7CiAgICAgICAgICBrZXkgPSAnY3VzdG9tZXInCiAgICAgICAgfSBlbHNlIGlmIChbMTYsIDE3XS5pbmNsdWRlcyh0aGlzLmRhdGEudHlwZSkpIHsKICAgICAgICAgIGtleSA9ICdjb250YWN0cycKICAgICAgICB9IGVsc2UgaWYgKFsxOCwgMTldLmluY2x1ZGVzKHRoaXMuZGF0YS50eXBlKSkgewogICAgICAgICAga2V5ID0gJ2xlYWRzJwogICAgICAgIH0gZWxzZSBpZiAoWzIwLCAyMV0uaW5jbHVkZXModGhpcy5kYXRhLnR5cGUpKSB7CiAgICAgICAgICBrZXkgPSAncHJvZHVjdCcKICAgICAgICB9IGVsc2UgaWYgKFsyMiwgMjgsIDMxXS5pbmNsdWRlcyh0aGlzLmRhdGEudHlwZSkpIHsKICAgICAgICAgIGtleSA9ICdidXNpbmVzcycKICAgICAgICB9IGVsc2UgaWYgKFszNSwgMzYsIDM3XS5pbmNsdWRlcyh0aGlzLmRhdGEudHlwZSkpIHsKICAgICAgICAgIGtleSA9ICdpbnZvaWNlJwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHR5cGVzT2JqW2tleV0KICAgIH0sCgogICAgbGVmdENvbnRlbnQoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgMTogYCR7dGhpcy5kYXRhLnJlYWxuYW1lfeWwhmAsCiAgICAgICAgMjogYCR7dGhpcy5kYXRhLnJlYWxuYW1lfemCgOivt+aCqOWPguS4jmAsCiAgICAgICAgMzogYCR7dGhpcy5kYXRhLnJlYWxuYW1lfeWwhmAsCiAgICAgICAgNDogYCR7dGhpcy5kYXRhLnJlYWxuYW1lfeWbnuWkjeS6huaCqOeahGAsCiAgICAgICAgNTogYCR7dGhpcy5kYXRhLnJlYWxuYW1lfeWwhuaXpeW/l2AsCiAgICAgICAgNjogYCR7dGhpcy5kYXRhLnJlYWxuYW1lfeaLkue7neaCqOeahGAsCiAgICAgICAgNzogYCR7dGhpcy5kYXRhLnJlYWxuYW1lfeW3sue7j+WuoeaguOmAmui/h+aCqOeahGAsCiAgICAgICAgODogYOaCqOacieS4gOS4quaWsOWFrOWRimAsCiAgICAgICAgOTogYCR7dGhpcy5kYXRhLnJlYWxuYW1lfemCgOivt+aCqOWPguS4jmAsCiAgICAgICAgMTA6IGAke3RoaXMuZGF0YS5yZWFsbmFtZX3mi5Lnu53mgqjnmoRgLAogICAgICAgIDExOiBgJHt0aGlzLmRhdGEucmVhbG5hbWV95bey57uP5a6h5qC46YCa6L+H5oKo55qEYCwKICAgICAgICAxMjogYCR7dGhpcy5kYXRhLnJlYWxuYW1lfeaLkue7neaCqOeahGAsCiAgICAgICAgMTM6IGAke3RoaXMuZGF0YS5yZWFsbmFtZX3lt7Lnu4/lrqHmoLjpgJrov4fmgqjnmoRgLAogICAgICAgIDE0OiBgJHt0aGlzLmRhdGEucmVhbG5hbWV95a+85YWl5a6i5oi35pWw5o2uJHt0aGlzLmRhdGEudGl0bGV95p2h77yMJHt0aGlzLmdldEltcG9ydENvbnRlbnQodGhpcy5kYXRhKX1gLAogICAgICAgIDE1OiBgJHt0aGlzLmRhdGEucmVhbG5hbWV95Y+W5raI5a+85YWl5a6i5oi35pWw5o2u77yM5bey5a+85YWlJHt0aGlzLmRhdGEudGl0bGV95p2h77yMJHt0aGlzLmdldEltcG9ydENvbnRlbnQodGhpcy5kYXRhKX1gLAogICAgICAgIDE2OiBgJHt0aGlzLmRhdGEucmVhbG5hbWV95a+85YWl6IGU57O75Lq65pWw5o2uJHt0aGlzLmRhdGEudGl0bGV95p2h77yMJHt0aGlzLmdldEltcG9ydENvbnRlbnQodGhpcy5kYXRhKX1gLAogICAgICAgIDE3OiBgJHt0aGlzLmRhdGEucmVhbG5hbWV95Y+W5raI5a+85YWl6IGU57O75Lq65pWw5o2u77yM5bey5a+85YWlJHt0aGlzLmRhdGEudGl0bGV95p2h77yMJHt0aGlzLmdldEltcG9ydENvbnRlbnQodGhpcy5kYXRhKX1gLAogICAgICAgIDE4OiBgJHt0aGlzLmRhdGEucmVhbG5hbWV95a+85YWl57q/57Si5pWw5o2uJHt0aGlzLmRhdGEudGl0bGV95p2h77yMJHt0aGlzLmdldEltcG9ydENvbnRlbnQodGhpcy5kYXRhKX1gLAogICAgICAgIDE5OiBgJHt0aGlzLmRhdGEucmVhbG5hbWV95Y+W5raI5a+85YWl57q/57Si5pWw5o2u77yM5bey5a+85YWlJHt0aGlzLmRhdGEudGl0bGV95p2h77yMJHt0aGlzLmdldEltcG9ydENvbnRlbnQodGhpcy5kYXRhKX1gLAogICAgICAgIDIwOiBgJHt0aGlzLmRhdGEucmVhbG5hbWV95a+85YWl5Lqn5ZOB5pWw5o2uJHt0aGlzLmRhdGEudGl0bGV95p2h77yMJHt0aGlzLmdldEltcG9ydENvbnRlbnQodGhpcy5kYXRhKX1gLAogICAgICAgIDIxOiBgJHt0aGlzLmRhdGEucmVhbG5hbWV95Y+W5raI5a+85YWl5Lqn5ZOB5pWw5o2u77yM5bey5a+85YWlJHt0aGlzLmRhdGEudGl0bGV95p2h77yMJHt0aGlzLmdldEltcG9ydENvbnRlbnQodGhpcy5kYXRhKX1gLAogICAgICAgIDIyOiBgJHt0aGlzLmRhdGEucmVhbG5hbWV95bCG5oKo5re75Yqg5Li65ZWG5py6YCwKICAgICAgICAyMzogYCR7dGhpcy5kYXRhLnJlYWxuYW1lfeWwhuaCqOa3u+WKoOS4uuWuouaIt2AsCiAgICAgICAgMjQ6IGAke3RoaXMuZGF0YS5yZWFsbmFtZX3lsIbmgqjmt7vliqDkuLrlkIjlkIxgLAogICAgICAgIDI1OiBgJHt0aGlzLmRhdGEucmVhbG5hbWV95o+Q5Lqk5LqGYCwKICAgICAgICAyNjogYCR7dGhpcy5kYXRhLnJlYWxuYW1lfeaPkOS6pOS6hmAsCiAgICAgICAgMjc6IGAke3RoaXMuZGF0YS5yZWFsbmFtZX3mj5DkuqTkuoZgLAogICAgICAgIDI4OiBgJHt0aGlzLmRhdGEucmVhbG5hbWV96YCA5Ye65LqG5oKo5ZWG5py6YCwKICAgICAgICAyOTogYCR7dGhpcy5kYXRhLnJlYWxuYW1lfemAgOWHuuS6huaCqOWuouaIt2AsCiAgICAgICAgMzA6IGAke3RoaXMuZGF0YS5yZWFsbmFtZX3pgIDlh7rkuobmgqjlkIjlkIxgLAogICAgICAgIDMxOiBgJHt0aGlzLmRhdGEucmVhbG5hbWV95bCG5oKo56e75Ye65LqG5ZWG5py6YCwKICAgICAgICAzMjogYCR7dGhpcy5kYXRhLnJlYWxuYW1lfeWwhuaCqOenu+WHuuS6huWuouaIt2AsCiAgICAgICAgMzM6IGAke3RoaXMuZGF0YS5yZWFsbmFtZX3lsIbmgqjnp7vlh7rkuoblkIjlkIxgLAogICAgICAgIDM0OiBgJHt0aGlzLmRhdGEucmVhbG5hbWV95Zue5aSN5LqG5oKo6K+E6K6655qE5pel5b+XYCwKICAgICAgICAzNTogYCR7dGhpcy5kYXRhLnJlYWxuYW1lfeaLkue7neaCqOeahGAsCiAgICAgICAgMzY6IGAke3RoaXMuZGF0YS5yZWFsbmFtZX3lt7Lnu4/lrqHmoLjpgJrov4fmgqjnmoRgLAogICAgICAgIDM3OiBgJHt0aGlzLmRhdGEucmVhbG5hbWV95o+Q5Lqk5LqGYAogICAgICB9W3RoaXMuZGF0YS50eXBlXQogICAgfSwKCiAgICBjZW50ZXJDb3RlbnQoKSB7CiAgICAgIC8vIOWvvOWFpeaPkOekuuS4juWFtuS7luS4jeS4gOagtwogICAgICBpZiAodGhpcy5pc0ltcG9ydFR5cGUpIHsKICAgICAgICAvLyB0aXRsZSDmmK/mgLvmlbAgY29udGVudCDmmK/plJnor6/mlbDmja4gdmFsaWQg6ZSZ6K+v5paH5Lu25piv5ZCm5pyJ5pWIIDEg5pyJ5pWIIDAg5aSx5pWICiAgICAgICAgY29uc3QgbGlzdCA9IHRoaXMuZGF0YS5jb250ZW50LnNwbGl0KCcsJykgfHwgW10KICAgICAgICBjb25zdCBlcnJTaXplID0gTnVtYmVyKGxpc3RbMF0gfHwgMCkKICAgICAgICBpZiAoZXJyU2l6ZSA+IDApIHsKICAgICAgICAgIHJldHVybiB0aGlzLmRhdGEudmFsaWQgPT09IDAgPyAn5bey5aSx5pWIJyA6ICfngrnlh7vkuIvovb3plJnor6/mlbDmja4nCiAgICAgICAgfQogICAgICAgIHJldHVybiAnJwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBg44CKJHt0aGlzLmRhdGEudGl0bGV944CLYAogICAgICB9CiAgICB9LAoKICAgIGlzSW52YWxpZCgpIHsKICAgICAgaWYgKHRoaXMuaXNJbXBvcnRUeXBlKSB7CiAgICAgICAgLy8gdGl0bGUg5piv5oC75pWwIGNvbnRlbnQg5piv6ZSZ6K+v5pWw5o2uIHZhbGlkIOmUmeivr+aWh+S7tuaYr+WQpuacieaViCAxIOacieaViCAwIOWkseaViAogICAgICAgIHJldHVybiB0aGlzLmRhdGEudmFsaWQgPT0gMAogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZQogICAgICB9CiAgICB9LAoKICAgIC8qKgogICAgICog5piv5a+85YWldHlwZQogICAgICovCiAgICBpc0ltcG9ydFR5cGUoKSB7CiAgICAgIHJldHVybiB0aGlzLmRhdGEudHlwZSA+PSAxNCAmJiB0aGlzLmRhdGEudHlwZSA8PSAyMQogICAgfSwKCiAgICByaWdodENvbnRlbnQoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgMTogYOS7u+WKoeWIhumFjee7meaCqO+8jOivt+WPiuaXtuafpeeci2AsCiAgICAgICAgMjogYOS7u+WKoe+8jOivt+WPiuaXtuafpeeci2AsCiAgICAgICAgMzogYOS7u+WKoeagh+iusOe7k+adn2AsCiAgICAgICAgNDogYOaXpeW/l++8muKAnCR7dGhpcy5kYXRhLmNvbnRlbnR94oCd77yM6K+35Y+K5pe25p+l55yLYCwKICAgICAgICA1OiBg5Y+R6YCB57uZ5oKo77yM6K+35Y+K5pe25p+l55yLYCwKICAgICAgICA2OiBg77yM5ouS57ud55CG55Sx77ya4oCcJHt0aGlzLmRhdGEuY29udGVudH3igJ3vvIzor7flj4rml7blpITnkIZgLAogICAgICAgIDc6IGDvvIzor7flj4rml7bmn6XnnItgLAogICAgICAgIDg6IGDvvIzor7flj4rml7bmn6XnnItgLAogICAgICAgIDk6IGDnmoTml6XnqIvvvIwke3RoaXMuZ2V0U3RhcnRUaW1lKHRoaXMuZGF0YS5jb250ZW50KX3or7flj4rml7bmn6XnnItgLAogICAgICAgIDEwOiBg5ZCI5ZCM5a6h5om577yM5ouS57ud55CG55Sx77ya4oCcJHt0aGlzLmRhdGEuY29udGVudH3igJ3vvIzor7flj4rml7blpITnkIZgLAogICAgICAgIDExOiBg5ZCI5ZCM77yM6K+35Y+K5pe25p+l55yLYCwKICAgICAgICAxMjogYOWbnuasvuWuoeaJue+8jOaLkue7neeQhueUse+8muKAnCR7dGhpcy5kYXRhLmNvbnRlbnR94oCd77yM6K+35Y+K5pe25aSE55CGYCwKICAgICAgICAxMzogYOWbnuasvu+8jOivt+WPiuaXtuafpeeci2AsCiAgICAgICAgMTQ6IGBgLAogICAgICAgIDE1OiBgYCwKICAgICAgICAxNjogYGAsCiAgICAgICAgMTc6IGBgLAogICAgICAgIDE4OiBgYCwKICAgICAgICAxOTogYGAsCiAgICAgICAgMjA6IGBgLAogICAgICAgIDIxOiBgYCwKICAgICAgICAyMjogYOeahOaIkOWRmGAsCiAgICAgICAgMjM6IGDnmoTmiJDlkZhgLAogICAgICAgIDI0OiBg55qE5oiQ5ZGYYCwKICAgICAgICAyNTogYO+8jOivt+WPiuaXtuWkhOeQhmAsCiAgICAgICAgMjY6IGDlkIjlkIzlrqHmibnvvIzor7flj4rml7blpITnkIZgLAogICAgICAgIDI3OiBg5Zue5qy+5a6h5om577yM6K+35Y+K5pe25aSE55CGYCwKICAgICAgICAyODogYOeahOWboumYn2AsCiAgICAgICAgMjk6IGDnmoTlm6LpmJ9gLAogICAgICAgIDMwOiBg55qE5Zui6ZifYCwKICAgICAgICAzMTogYOeahOWboumYn2AsCiAgICAgICAgMzI6IGDnmoTlm6LpmJ9gLAogICAgICAgIDMzOiBg55qE5Zui6ZifYCwKICAgICAgICAzNDogYO+8muKAnCR7dGhpcy5kYXRhLmNvbnRlbnR94oCd77yM6K+35Y+K5pe25p+l55yLYCwKICAgICAgICAzNTogYOWPkeelqOWuoeaJue+8jOaLkue7neeQhueUse+8muKAnCR7dGhpcy5kYXRhLmNvbnRlbnR94oCd77yM6K+35Y+K5pe25aSE55CGYCwKICAgICAgICAzNjogYOWPkeelqOWuoeaJue+8jOivt+WPiuaXtuafpeeci2AsCiAgICAgICAgMzc6IGDlj5HnpajlrqHmibnvvIzor7flj4rml7blpITnkIZgCiAgICAgIH1bdGhpcy5kYXRhLnR5cGVdCiAgICB9CiAgfSwKICB3YXRjaDoge30sCiAgbW91bnRlZCgpIHt9LAoKICBiZWZvcmVEZXN0cm95KCkge30sCiAgbWV0aG9kczogewogICAgZW50ZXJEZXRhaWwoKSB7CiAgICAgIGlmICh0aGlzLmlzSW52YWxpZCkgewogICAgICAgIHJldHVybgogICAgICB9CgogICAgICAvLyDmmK/lr7zlhaXmj5DphpIKICAgICAgaWYgKHRoaXMuaXNJbXBvcnRUeXBlKSB7CiAgICAgICAgdGhpcy4kZW1pdCgnZG93bmxvYWQnLCB0aGlzLmRhdGEubWVzc2FnZUlkLCB0aGlzLmRhdGFJbmRleCkKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDmnKror7vop6blj5Hor7sKICAgICAgICBpZiAodGhpcy5kYXRhLmlzUmVhZCA9PSAwKSB7CiAgICAgICAgICB0aGlzLiRlbWl0KCdyZWFkJywgdGhpcy5kYXRhLm1lc3NhZ2VJZCwgdGhpcy5kYXRhSW5kZXgpCiAgICAgICAgfQogICAgICAgIHRoaXMuJGVtaXQoJ2RldGFpbCcsIHRoaXMudHlwZU9iai50eXBlLCB0aGlzLmRhdGEudHlwZUlkLCB0aGlzLmRhdGFJbmRleCwgdGhpcy5kYXRhKQogICAgICB9CiAgICB9LAoKICAgIC8qKgogICAgICog5qCH6K6w5bey6K+7CiAgICAgKi8KICAgIG1lc3NhZ2VSZWFkQ2xpY2soKSB7CiAgICAgIHRoaXMuJGVtaXQoJ3JlYWQnLCB0aGlzLmRhdGEubWVzc2FnZUlkLCB0aGlzLmRhdGFJbmRleCkKICAgIH0sCgogICAgLyoqCiAgICAgKiDmtojmga/liKDpmaQKICAgICAqLwogICAgbWVzc2FnZURlbGV0ZUNsaWNrKCkgewogICAgICB0aGlzLiRlbWl0KCdkZWxldGUnLCB0aGlzLmRhdGEubWVzc2FnZUlkLCB0aGlzLmRhdGFJbmRleCkKICAgIH0sCgogICAgLyoqCiAgICAgKiDml6XnqIvmj5DphpLvvIzlpJrplb/ml7bpl7TlkI7lvIDlp4sKICAgICAqLwogICAgZ2V0U3RhcnRUaW1lKGNvbnRlbnQpIHsKICAgICAgaWYgKHRoaXMuZGF0YS50eXBlICE9IDkpIHsKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICBjb25zdCB0aW1lT2JqID0gY29udGVudCA/IEpTT04ucGFyc2UoY29udGVudCkgOiB7IHR5cGU6IDAsIHZhbHVlOiAnJyB9CgogICAgICBsZXQgZGF0YVZhbHVlID0gJycKICAgICAgaWYgKCF0aW1lT2JqLnR5cGUpIHsKICAgICAgICBkYXRhVmFsdWUgPSAnJwogICAgICB9IGVsc2UgewogICAgICAgIGRhdGFWYWx1ZSA9ICflsIbkuo4nICsgdGltZU9iai52YWx1ZSArIFsnJywgJ+WIhumSnycsICflsI/ml7YnLCAn5aSpJ11bdGltZU9iai50eXBlXSArICflkI7lvIDlp4ssICcKICAgICAgfQogICAgICByZXR1cm4gZGF0YVZhbHVlCiAgICB9LAoKICAgIGdldEltcG9ydENvbnRlbnQoeyB0aXRsZSwgY29udGVudCB9KSB7CiAgICAgIGNvbnN0IGNvdW50TGlzdCA9IFsxNCwgMTUsIDE2LCAxNywgMTgsIDE5LCAyMCwgMjEsIDUwXQogICAgICBpZiAoIWNvdW50TGlzdC5pbmNsdWRlcyh0aGlzLmRhdGEudHlwZSkpIHsKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICBjb25zdCBsaXN0ID0gY29udGVudC5zcGxpdCgnLCcpIHx8IFtdCiAgICAgIGNvbnN0IHRvdGFsU2l6ZSA9IE51bWJlcih0aXRsZSB8fCAnMCcpCiAgICAgIGNvbnN0IHVwZGF0ZVNpemUgPSBOdW1iZXIobGlzdFsxXSB8fCAnMCcpCiAgICAgIGNvbnN0IGVyclNpemUgPSBOdW1iZXIobGlzdFswXSB8fCAnMCcpCiAgICAgIHJldHVybiBg6KaG55uWJHt1cGRhdGVTaXplfeadoe+8jOWvvOWFpeaIkOWKnyR7dG90YWxTaXplIC0gZXJyU2l6ZX3mnaHvvIzlr7zlhaXlpLHotKUke2VyclNpemV95p2h44CCYAogICAgfQogIH0KfQo="},{"version":3,"sources":["MessageCell.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MessageCell.vue","sourceRoot":"src/layout/components","sourcesContent":["<template>\n  <flexbox\n    :class=\"{ 'is-unread' :data.isRead == 0 }\"\n    class=\"message-cell\"\n    align=\"stretch\"\n  >\n    <div class=\"message-cell__hd\">\n      <i\n        :class=\"typeObj.icon\"\n      />\n    </div>\n\n    <div class=\"message-cell__bd\">\n      <span>{{ leftContent }}</span>\n      <span :class=\"[{ 'is-invalid': isInvalid }, 'click-content']\" @click=\"enterDetail\">{{ centerCotent }}</span>\n      <span>{{ rightContent }}</span>\n    </div>\n\n    <div class=\"message-cell__ft\">\n      <div>{{ data.createTime | formatTime }} </div>\n      <div class=\"handle\">\n        <span class=\"check\" @click=\"messageReadClick\">标记已读</span>\n        <span class=\"delete\" @click=\"messageDeleteClick\">删除</span>\n      </div>\n    </div>\n  </flexbox>\n</template>\n\n<script>\n// import moment from 'moment'\nexport default {\n  // 消息cell\n  name: 'MessageCell',\n  components: {\n\n  },\n  props: {\n    data: Object,\n    dataIndex: Number\n  },\n  data() {\n    return {}\n  },\n  computed: {\n    typeObj() {\n      const typesObj = {\n        leads: {\n          icon: 'wk wk-leads',\n          color: '#6995FF',\n          type: 'leads'\n        },\n        customer: {\n          icon: 'wk wk-customer',\n          color: '#6995FF',\n          type: 'customer'\n        },\n        contacts: {\n          icon: 'wk wk-contacts',\n          color: '#6995FF',\n          type: 'contacts'\n        },\n        business: {\n          icon: 'wk wk-business',\n          color: '#6995FF',\n          type: 'business'\n        },\n        contract: {\n          icon: 'wk wk-contract',\n          color: '#6995FF',\n          type: 'contract'\n        },\n        receivables: {\n          icon: 'wk wk-receivables',\n          color: '#6995FF',\n          type: 'receivables'\n        },\n        product: {\n          icon: 'wk wk-product',\n          color: '#6995FF',\n          type: 'product'\n        },\n        log: {\n          icon: 'wk wk-log',\n          color: '#6995FF',\n          type: 'log'\n        },\n        examine: {\n          icon: 'wk wk-approve',\n          color: '#6995FF',\n          type: 'examine'\n        },\n        task: {\n          icon: 'wk wk-o-task',\n          color: '#6995FF',\n          type: 'task'\n        },\n        announcement: {\n          icon: 'wk wk-announcement',\n          color: '#6995FF',\n          type: 'announcement'\n        },\n        schedule: {\n          icon: 'wk wk-schedule',\n          color: '#6995FF',\n          type: 'schedule'\n        },\n        invoice: {\n          icon: 'wk wk-invoice',\n          color: '#6995FF',\n          type: 'invoice'\n        }\n      }\n\n      // 1 任务 2 日志 3 oa审批 4公告 5 日程 6 客户管理\n      let key = ''\n      if (this.data.label && this.data.label <= 5) {\n        key = ['task', 'log', 'examine', 'announcement', 'schedule'][this.data.label - 1]\n      } else {\n        if ([1, 2, 3].includes(this.data.type)) {\n          key = 'task'\n        } else if ([4, 5, 34].includes(this.data.type)) {\n          key = 'log'\n        } else if ([6, 7, 25].includes(this.data.type)) {\n          key = 'examine'\n        } else if ([8].includes(this.data.type)) {\n          key = 'announcement'\n        } else if ([10, 11, 24, 26, 30, 33].includes(this.data.type)) {\n          key = 'contract'\n        } else if ([12, 13, 27].includes(this.data.type)) {\n          key = 'receivables'\n        } else if ([14, 15, 23, 29, 32].includes(this.data.type)) {\n          key = 'customer'\n        } else if ([16, 17].includes(this.data.type)) {\n          key = 'contacts'\n        } else if ([18, 19].includes(this.data.type)) {\n          key = 'leads'\n        } else if ([20, 21].includes(this.data.type)) {\n          key = 'product'\n        } else if ([22, 28, 31].includes(this.data.type)) {\n          key = 'business'\n        } else if ([35, 36, 37].includes(this.data.type)) {\n          key = 'invoice'\n        }\n      }\n\n      return typesObj[key]\n    },\n\n    leftContent() {\n      return {\n        1: `${this.data.realname}将`,\n        2: `${this.data.realname}邀请您参与`,\n        3: `${this.data.realname}将`,\n        4: `${this.data.realname}回复了您的`,\n        5: `${this.data.realname}将日志`,\n        6: `${this.data.realname}拒绝您的`,\n        7: `${this.data.realname}已经审核通过您的`,\n        8: `您有一个新公告`,\n        9: `${this.data.realname}邀请您参与`,\n        10: `${this.data.realname}拒绝您的`,\n        11: `${this.data.realname}已经审核通过您的`,\n        12: `${this.data.realname}拒绝您的`,\n        13: `${this.data.realname}已经审核通过您的`,\n        14: `${this.data.realname}导入客户数据${this.data.title}条，${this.getImportContent(this.data)}`,\n        15: `${this.data.realname}取消导入客户数据，已导入${this.data.title}条，${this.getImportContent(this.data)}`,\n        16: `${this.data.realname}导入联系人数据${this.data.title}条，${this.getImportContent(this.data)}`,\n        17: `${this.data.realname}取消导入联系人数据，已导入${this.data.title}条，${this.getImportContent(this.data)}`,\n        18: `${this.data.realname}导入线索数据${this.data.title}条，${this.getImportContent(this.data)}`,\n        19: `${this.data.realname}取消导入线索数据，已导入${this.data.title}条，${this.getImportContent(this.data)}`,\n        20: `${this.data.realname}导入产品数据${this.data.title}条，${this.getImportContent(this.data)}`,\n        21: `${this.data.realname}取消导入产品数据，已导入${this.data.title}条，${this.getImportContent(this.data)}`,\n        22: `${this.data.realname}将您添加为商机`,\n        23: `${this.data.realname}将您添加为客户`,\n        24: `${this.data.realname}将您添加为合同`,\n        25: `${this.data.realname}提交了`,\n        26: `${this.data.realname}提交了`,\n        27: `${this.data.realname}提交了`,\n        28: `${this.data.realname}退出了您商机`,\n        29: `${this.data.realname}退出了您客户`,\n        30: `${this.data.realname}退出了您合同`,\n        31: `${this.data.realname}将您移出了商机`,\n        32: `${this.data.realname}将您移出了客户`,\n        33: `${this.data.realname}将您移出了合同`,\n        34: `${this.data.realname}回复了您评论的日志`,\n        35: `${this.data.realname}拒绝您的`,\n        36: `${this.data.realname}已经审核通过您的`,\n        37: `${this.data.realname}提交了`\n      }[this.data.type]\n    },\n\n    centerCotent() {\n      // 导入提示与其他不一样\n      if (this.isImportType) {\n        // title 是总数 content 是错误数据 valid 错误文件是否有效 1 有效 0 失效\n        const list = this.data.content.split(',') || []\n        const errSize = Number(list[0] || 0)\n        if (errSize > 0) {\n          return this.data.valid === 0 ? '已失效' : '点击下载错误数据'\n        }\n        return ''\n      } else {\n        return `《${this.data.title}》`\n      }\n    },\n\n    isInvalid() {\n      if (this.isImportType) {\n        // title 是总数 content 是错误数据 valid 错误文件是否有效 1 有效 0 失效\n        return this.data.valid == 0\n      } else {\n        return false\n      }\n    },\n\n    /**\n     * 是导入type\n     */\n    isImportType() {\n      return this.data.type >= 14 && this.data.type <= 21\n    },\n\n    rightContent() {\n      return {\n        1: `任务分配给您，请及时查看`,\n        2: `任务，请及时查看`,\n        3: `任务标记结束`,\n        4: `日志：“${this.data.content}”，请及时查看`,\n        5: `发送给您，请及时查看`,\n        6: `，拒绝理由：“${this.data.content}”，请及时处理`,\n        7: `，请及时查看`,\n        8: `，请及时查看`,\n        9: `的日程，${this.getStartTime(this.data.content)}请及时查看`,\n        10: `合同审批，拒绝理由：“${this.data.content}”，请及时处理`,\n        11: `合同，请及时查看`,\n        12: `回款审批，拒绝理由：“${this.data.content}”，请及时处理`,\n        13: `回款，请及时查看`,\n        14: ``,\n        15: ``,\n        16: ``,\n        17: ``,\n        18: ``,\n        19: ``,\n        20: ``,\n        21: ``,\n        22: `的成员`,\n        23: `的成员`,\n        24: `的成员`,\n        25: `，请及时处理`,\n        26: `合同审批，请及时处理`,\n        27: `回款审批，请及时处理`,\n        28: `的团队`,\n        29: `的团队`,\n        30: `的团队`,\n        31: `的团队`,\n        32: `的团队`,\n        33: `的团队`,\n        34: `：“${this.data.content}”，请及时查看`,\n        35: `发票审批，拒绝理由：“${this.data.content}”，请及时处理`,\n        36: `发票审批，请及时查看`,\n        37: `发票审批，请及时处理`\n      }[this.data.type]\n    }\n  },\n  watch: {},\n  mounted() {},\n\n  beforeDestroy() {},\n  methods: {\n    enterDetail() {\n      if (this.isInvalid) {\n        return\n      }\n\n      // 是导入提醒\n      if (this.isImportType) {\n        this.$emit('download', this.data.messageId, this.dataIndex)\n      } else {\n        // 未读触发读\n        if (this.data.isRead == 0) {\n          this.$emit('read', this.data.messageId, this.dataIndex)\n        }\n        this.$emit('detail', this.typeObj.type, this.data.typeId, this.dataIndex, this.data)\n      }\n    },\n\n    /**\n     * 标记已读\n     */\n    messageReadClick() {\n      this.$emit('read', this.data.messageId, this.dataIndex)\n    },\n\n    /**\n     * 消息删除\n     */\n    messageDeleteClick() {\n      this.$emit('delete', this.data.messageId, this.dataIndex)\n    },\n\n    /**\n     * 日程提醒，多长时间后开始\n     */\n    getStartTime(content) {\n      if (this.data.type != 9) {\n        return\n      }\n      const timeObj = content ? JSON.parse(content) : { type: 0, value: '' }\n\n      let dataValue = ''\n      if (!timeObj.type) {\n        dataValue = ''\n      } else {\n        dataValue = '将于' + timeObj.value + ['', '分钟', '小时', '天'][timeObj.type] + '后开始, '\n      }\n      return dataValue\n    },\n\n    getImportContent({ title, content }) {\n      const countList = [14, 15, 16, 17, 18, 19, 20, 21, 50]\n      if (!countList.includes(this.data.type)) {\n        return\n      }\n      const list = content.split(',') || []\n      const totalSize = Number(title || '0')\n      const updateSize = Number(list[1] || '0')\n      const errSize = Number(list[0] || '0')\n      return `覆盖${updateSize}条，导入成功${totalSize - errSize}条，导入失败${errSize}条。`\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.message-cell {\n  position: relative;\n  font-size: 14px;\n  color: #333;\n  padding: 15px 20px 15px 15px;\n  line-height: 1.5;\n\n  &__hd {\n    flex-shrink: 0;\n    margin-right: 15px;\n    background-color: $xr-color-primary;\n    text-align: center;\n    width: 28px;\n    height: 28px;\n    line-height: 28px;\n    border-radius: 14px;\n\n    .wk {\n      color: white;\n      font-size: 13px;\n    }\n  }\n\n  &__bd {\n    flex: 1;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n    word-break: break-all;\n  }\n\n  &__ft {\n    flex-shrink: 0;\n    font-size: 12px;\n    color: #999;\n    width: 85px;\n    margin-left: 35px;\n    text-align: right;\n    position: relative;\n\n    .handle {\n      position: absolute;\n      top: 20px;\n      right: 0;\n      font-size: 12px;\n      color: #999;\n      .check,\n      .delete {\n        visibility: hidden;\n        cursor: pointer;\n      }\n\n      .check + .delete {\n        margin-left: 5px;\n      }\n\n      .check:hover {\n        color: $xr-color-primary;\n      }\n      .delete:hover {\n        color: #F56C6C;\n      }\n    }\n  }\n\n  &.is-unread::before {\n    content: '';\n    position: absolute;\n    top: 20px;\n    right: 8px;\n    width: 6px;\n    height: 6px;\n    border-radius: 3px;\n    background-color: #f94e4e;\n  }\n\n  &:hover {\n    background-color: #f7f8fa;\n    .delete {\n      visibility: visible;\n    }\n  }\n\n  &.is-unread:hover {\n    .check {\n      visibility: visible;\n    }\n  }\n}\n\n.click-content {\n  color: $xr-color-primary;\n  cursor: pointer;\n\n  &:hover {\n    text-decoration: underline;\n  }\n}\n\n.is-invalid {\n  color: #999;\n  pointer-events: none;\n  cursor: initial;\n}\n</style>\n"]}]}