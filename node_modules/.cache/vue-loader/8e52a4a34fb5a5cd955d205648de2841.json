{"remainingRequest":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/caichaosen/Code/web/hrm-ui2/src/layout/components/Sidebar/SidebarItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/caichaosen/Code/web/hrm-ui2/src/layout/components/Sidebar/SidebarItem.vue","mtime":1612532451755},{"path":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnCmltcG9ydCB7IGlzRXh0ZXJuYWwgfSBmcm9tICdAL3V0aWxzL3ZhbGlkYXRlJwppbXBvcnQgSXRlbSBmcm9tICcuL0l0ZW0nCmltcG9ydCBBcHBMaW5rIGZyb20gJy4vTGluaycKaW1wb3J0IEZpeGlPU0J1ZyBmcm9tICcuL0ZpeGlPU0J1ZycKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnU2lkZWJhckl0ZW0nLAogIGNvbXBvbmVudHM6IHsgSXRlbSwgQXBwTGluayB9LAogIG1peGluczogW0ZpeGlPU0J1Z10sCiAgcHJvcHM6IHsKICAgIC8vIOWfuui3r+eUseWvueixoQogICAgaXRlbTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgLy8g54i2TGF5b3V05Z+66Lev55SxID09IGl0ZW0ucGF0aAogICAgYmFzZVBhdGg6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIGFjdGl2ZU1lbnU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIGNvbGxhcHNlOiBCb29sZWFuCiAgfSwKICBkYXRhKCkgewogICAgLy8gVG8gZml4IGh0dHBzOi8vZ2l0aHViLmNvbS9QYW5KaWFDaGVuL3Z1ZS1hZG1pbi10ZW1wbGF0ZS9pc3N1ZXMvMjM3CiAgICAvLyBUT0RPOiByZWZhY3RvciB3aXRoIHJlbmRlciBmdW5jdGlvbgogICAgdGhpcy5vbmx5T25lQ2hpbGQgPSBudWxsCiAgICByZXR1cm4ge30KICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc1NpbmdsZU1lbnUoKSB7CiAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLml0ZW0KICAgICAgY29uc3Qgb25seU9uZUNoaWxkID0gdGhpcy5vbmx5T25lQ2hpbGQgfHwge30KICAgICAgaWYgKCFpdGVtKSByZXR1cm4gZmFsc2UKCiAgICAgIGNvbnN0IGlzU2luZ2xlTWVudSA9IHRoaXMuaGFzT25lU2hvd2luZ0NoaWxkKGl0ZW0uY2hpbGRyZW4sIGl0ZW0pICYmICghb25seU9uZUNoaWxkLmNoaWxkcmVuIHx8IG9ubHlPbmVDaGlsZC5ub1Nob3dpbmdDaGlsZHJlbikgJiYgIWl0ZW0uYWx3YXlzU2hvdwogICAgICBjb25zb2xlLmxvZygnaXNTaW5nbGVNZW51JywgaXNTaW5nbGVNZW51KQogICAgICByZXR1cm4gaXNTaW5nbGVNZW51CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDlj6rmnInkuIDkuKrlrZDot6/nlLHvvIzkuI3lgZrkuoznuqfoj5zljZUKICAgIGhhc09uZVNob3dpbmdDaGlsZChjaGlsZHJlbiA9IFtdLCBwYXJlbnQpIHsKICAgICAgY29uc3Qgc2hvd2luZ0NoaWxkcmVuID0gY2hpbGRyZW4uZmlsdGVyKGl0ZW0gPT4gewogICAgICAgIGlmIChpdGVtLmhpZGRlbikgewogICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIFRlbXAgc2V0KHdpbGwgYmUgdXNlZCBpZiBvbmx5IGhhcyBvbmUgc2hvd2luZyBjaGlsZCkKICAgICAgICAgIHRoaXMub25seU9uZUNoaWxkID0gaXRlbQogICAgICAgICAgcmV0dXJuIHRydWUKICAgICAgICB9CiAgICAgIH0pCgogICAgICAvLyBXaGVuIHRoZXJlIGlzIG9ubHkgb25lIGNoaWxkIHJvdXRlciwgdGhlIGNoaWxkIHJvdXRlciBpcyBkaXNwbGF5ZWQgYnkgZGVmYXVsdAogICAgICBpZiAoc2hvd2luZ0NoaWxkcmVuLmxlbmd0aCA9PT0gMSkgewogICAgICAgIHJldHVybiB0cnVlCiAgICAgIH0KCiAgICAgIC8vIFNob3cgcGFyZW50IGlmIHRoZXJlIGFyZSBubyBjaGlsZCByb3V0ZXIgdG8gZGlzcGxheQogICAgICBpZiAoc2hvd2luZ0NoaWxkcmVuLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMub25seU9uZUNoaWxkID0geyAuLi5wYXJlbnQsIHBhdGg6ICcnLCBub1Nob3dpbmdDaGlsZHJlbjogdHJ1ZSB9CiAgICAgICAgcmV0dXJuIHRydWUKICAgICAgfQoKICAgICAgcmV0dXJuIGZhbHNlCiAgICB9LAogICAgcmVzb2x2ZVBhdGgocm91dGVQYXRoKSB7CiAgICAgIGlmIChpc0V4dGVybmFsKHJvdXRlUGF0aCkpIHsKICAgICAgICByZXR1cm4gcm91dGVQYXRoCiAgICAgIH0KICAgICAgaWYgKGlzRXh0ZXJuYWwodGhpcy5iYXNlUGF0aCkpIHsKICAgICAgICByZXR1cm4gdGhpcy5iYXNlUGF0aAogICAgICB9CiAgICAgIHJldHVybiBwYXRoLnJlc29sdmUodGhpcy5iYXNlUGF0aCwgcm91dGVQYXRoKQogICAgfQogIH0KfQo="},{"version":3,"sources":["SidebarItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SidebarItem.vue","sourceRoot":"src/layout/components/Sidebar","sourcesContent":["<template>\n  <div\n    v-if=\"!item.hidden\"\n    class=\"menu-wrapper\"\n  >\n    <template v-if=\"isSingleMenu\">\n      <el-tooltip\n        :disabled=\"!collapse\"\n        :content=\"onlyOneChild.title\"\n        effect=\"dark\"\n        placement=\"right\"\n      >\n        <app-link\n          v-if=\"!!onlyOneChild\"\n          :to=\"resolvePath(onlyOneChild.path)\"\n        >\n          <el-menu-item\n            :index=\"resolvePath(onlyOneChild.path)\"\n            :class=\"{ 'is-select': activeMenu == resolvePath(onlyOneChild.path)}\"\n          >\n            <item\n              :icon=\"onlyOneChild.icon||(item && item.icon)\"\n              :title=\"onlyOneChild.title\"\n              :num=\"onlyOneChild.num\"\n              :count=\"onlyOneChild.count\"\n              :collapse=\"collapse\"\n            />\n          </el-menu-item>\n        </app-link>\n      </el-tooltip>\n    </template>\n    <el-submenu\n      v-else\n      ref=\"subMenu\"\n      :index=\"resolvePath(item.path)\"\n      :class=\"{ 'is-select': activeMenu == resolvePath(item.path)}\"\n      popper-append-to-body\n    >\n      <template slot=\"title\">\n        <item\n          v-if=\"!!item\"\n          :icon=\"item && item.icon\"\n          :title=\"item.title\"\n          :num=\"item.num\"\n        />\n      </template>\n      <sidebar-item\n        v-for=\"child in item.children\"\n        :key=\"child.path\"\n        :is-nest=\"true\"\n        :item=\"child\"\n        :base-path=\"resolvePath(child.path)\"\n        :active-menu=\"activeMenu\"\n        class=\"nest-menu\"\n      />\n    </el-submenu>\n  </div>\n</template>\n\n<script>\nimport path from 'path'\nimport { isExternal } from '@/utils/validate'\nimport Item from './Item'\nimport AppLink from './Link'\nimport FixiOSBug from './FixiOSBug'\n\nexport default {\n  name: 'SidebarItem',\n  components: { Item, AppLink },\n  mixins: [FixiOSBug],\n  props: {\n    // 基路由对象\n    item: {\n      type: Object,\n      required: true\n    },\n    // 父Layout基路由 == item.path\n    basePath: {\n      type: String,\n      default: ''\n    },\n    activeMenu: {\n      type: String,\n      default: ''\n    },\n    collapse: Boolean\n  },\n  data() {\n    // To fix https://github.com/PanJiaChen/vue-admin-template/issues/237\n    // TODO: refactor with render function\n    this.onlyOneChild = null\n    return {}\n  },\n  computed: {\n    isSingleMenu() {\n      const item = this.item\n      const onlyOneChild = this.onlyOneChild || {}\n      if (!item) return false\n\n      const isSingleMenu = this.hasOneShowingChild(item.children, item) && (!onlyOneChild.children || onlyOneChild.noShowingChildren) && !item.alwaysShow\n      console.log('isSingleMenu', isSingleMenu)\n      return isSingleMenu\n    }\n  },\n  methods: {\n    // 只有一个子路由，不做二级菜单\n    hasOneShowingChild(children = [], parent) {\n      const showingChildren = children.filter(item => {\n        if (item.hidden) {\n          return false\n        } else {\n          // Temp set(will be used if only has one showing child)\n          this.onlyOneChild = item\n          return true\n        }\n      })\n\n      // When there is only one child router, the child router is displayed by default\n      if (showingChildren.length === 1) {\n        return true\n      }\n\n      // Show parent if there are no child router to display\n      if (showingChildren.length === 0) {\n        this.onlyOneChild = { ...parent, path: '', noShowingChildren: true }\n        return true\n      }\n\n      return false\n    },\n    resolvePath(routePath) {\n      if (isExternal(routePath)) {\n        return routePath\n      }\n      if (isExternal(this.basePath)) {\n        return this.basePath\n      }\n      return path.resolve(this.basePath, routePath)\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n@import './variables.scss';\n\n.menu-wrapper {\n  /deep/ .el-submenu__title {\n    height: auto;\n    line-height: normal;\n  }\n\n  /deep/ .el-submenu.is-active {\n    .el-submenu__title {\n      span,\n      i:first-child {\n        color: white;\n      }\n    }\n  }\n}\n\n.el-menu-item {\n  height: auto;\n  line-height: normal;\n  padding: 0 14px;\n  background-color: #001529 !important;\n  color: #bebec0;\n}\n\n.el-menu-item:not(.is-select) {\n  color: $menuText !important;\n}\n\n// element自带的有问题 is-active 换成 is-select\n.el-menu-item.is-select {\n  .menu-item-content {\n    background-color: #2362fb !important;\n    color: white !important;\n    /deep/ i {\n      color: white !important;\n    }\n  }\n}\n\n.el-menu-item:hover {\n  .menu-item-content {\n    background-color: rgba($color: #fff, $alpha: 0.1);\n    color: white;\n    /deep/ i {\n      color: white !important;\n    }\n  }\n}\n</style>\n"]}]}