{"remainingRequest":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/caichaosen/Code/web/hrm-ui2/src/layout/OkrLayout.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/caichaosen/Code/web/hrm-ui2/src/layout/OkrLayout.vue","mtime":1612527164847},{"path":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IE5hdmJhciwgU2lkZWJhciwgQXBwTWFpbiB9IGZyb20gJy4vY29tcG9uZW50cycKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnCmltcG9ydCBMYXlvdXQgZnJvbSAnQC9sYXlvdXQvT2tyTGF5b3V0JwppbXBvcnQgeyBjb25zdGFudFJvdXRlcyB9IGZyb20gJ0Avcm91dGVyL2luZGV4LmpzJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdPa3JMYXlvdXQnLAoKICBjb21wb25lbnRzOiB7CiAgICBOYXZiYXIsCiAgICBTaWRlYmFyLAogICAgQXBwTWFpbgogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc0NyZWF0ZTogZmFsc2UsCiAgICAgIGNyZWF0ZUFjdGlvbjogbnVsbCwKICAgICAgY3JlYXRlQ1JNVHlwZTogJycKICAgIH0KICB9LAoKICBjb21wdXRlZDogewogICAgb2tyUm91dGVycygpIHsKICAgICAgY29uc3QgYSA9IGNvbnN0YW50Um91dGVzCiAgICAgIHJldHVybiBjb25zdGFudFJvdXRlcwogICAgfSwKICAgIGNybSgpIHsgcmV0dXJuIHt9IH0sCiAgICAvLyAuLi5tYXBHZXR0ZXJzKFsnY3JtJywgJ2NybVJvdXRlcnMnXSksCiAgICAvLyDlv6vmjbfmt7vliqAKICAgIHF1aWNrQWRkTGlzdCgpIHsKICAgICAgdmFyIGFkZEl0ZW1zID0gW10KICAgICAgLy8gaWYgKHRoaXMuY3JtLmxlYWRzICYmIHRoaXMuY3JtLmxlYWRzLnNhdmUpIHsKICAgICAgLy8gICBhZGRJdGVtcy5wdXNoKHsKICAgICAgLy8gICAgIGljb246ICdsZWFkcycsCiAgICAgIC8vICAgICBpbmRleDogJ2xlYWRzJywKICAgICAgLy8gICAgIGxhYmVsOiAn57q/57SiJwogICAgICAvLyAgIH0pCiAgICAgIC8vIH0KICAgICAgLy8gaWYgKHRoaXMuY3JtLmN1c3RvbWVyICYmIHRoaXMuY3JtLmN1c3RvbWVyLnNhdmUpIHsKICAgICAgLy8gICBhZGRJdGVtcy5wdXNoKHsKICAgICAgLy8gICAgIGljb246ICdjdXN0b21lcicsCiAgICAgIC8vICAgICBpbmRleDogJ2N1c3RvbWVyJywKICAgICAgLy8gICAgIGxhYmVsOiAn5a6i5oi3JwogICAgICAvLyAgIH0pCiAgICAgIC8vIH0KICAgICAgLy8gaWYgKHRoaXMuY3JtLmNvbnRhY3RzICYmIHRoaXMuY3JtLmNvbnRhY3RzLnNhdmUpIHsKICAgICAgLy8gICBhZGRJdGVtcy5wdXNoKHsKICAgICAgLy8gICAgIGljb246ICdjb250YWN0cycsCiAgICAgIC8vICAgICBpbmRleDogJ2NvbnRhY3RzJywKICAgICAgLy8gICAgIGxhYmVsOiAn6IGU57O75Lq6JwogICAgICAvLyAgIH0pCiAgICAgIC8vIH0KICAgICAgLy8gaWYgKHRoaXMuY3JtLmJ1c2luZXNzICYmIHRoaXMuY3JtLmJ1c2luZXNzLnNhdmUpIHsKICAgICAgLy8gICBhZGRJdGVtcy5wdXNoKHsKICAgICAgLy8gICAgIGljb246ICdidXNpbmVzcycsCiAgICAgIC8vICAgICBpbmRleDogJ2J1c2luZXNzJywKICAgICAgLy8gICAgIGxhYmVsOiAn5ZWG5py6JwogICAgICAvLyAgIH0pCiAgICAgIC8vIH0KCiAgICAgIC8vIGlmICh0aGlzLmNybS5jb250cmFjdCAmJiB0aGlzLmNybS5jb250cmFjdC5zYXZlKSB7CiAgICAgIC8vICAgYWRkSXRlbXMucHVzaCh7CiAgICAgIC8vICAgICBpY29uOiAnY29udHJhY3QnLAogICAgICAvLyAgICAgaW5kZXg6ICdjb250cmFjdCcsCiAgICAgIC8vICAgICBsYWJlbDogJ+WQiOWQjCcKICAgICAgLy8gICB9KQogICAgICAvLyB9CiAgICAgIC8vIGlmICh0aGlzLmNybS5yZWNlaXZhYmxlcyAmJiB0aGlzLmNybS5yZWNlaXZhYmxlcy5zYXZlKSB7CiAgICAgIC8vICAgYWRkSXRlbXMucHVzaCh7CiAgICAgIC8vICAgICBpY29uOiAncmVjZWl2YWJsZXMnLAogICAgICAvLyAgICAgaW5kZXg6ICdyZWNlaXZhYmxlcycsCiAgICAgIC8vICAgICBsYWJlbDogJ+WbnuasvicKICAgICAgLy8gICB9KQogICAgICAvLyB9CiAgICAgIC8vIGlmICh0aGlzLmNybS5pbnZvaWNlICYmIHRoaXMuY3JtLmludm9pY2Uuc2F2ZSkgewogICAgICAvLyAgIGFkZEl0ZW1zLnB1c2goewogICAgICAvLyAgICAgaWNvbjogJ2ludm9pY2UnLAogICAgICAvLyAgICAgaW5kZXg6ICdpbnZvaWNlJywKICAgICAgLy8gICAgIGxhYmVsOiAn5Y+R56WoJwogICAgICAvLyAgIH0pCiAgICAgIC8vIH0KICAgICAgLy8gaWYgKHRoaXMuY3JtLnZpc2l0ICYmIHRoaXMuY3JtLnZpc2l0LnNhdmUpIHsKICAgICAgLy8gICBhZGRJdGVtcy5wdXNoKHsKICAgICAgLy8gICAgIGljb246ICdob3VzZScsCiAgICAgIC8vICAgICBpbmRleDogJ3Zpc2l0JywKICAgICAgLy8gICAgIGxhYmVsOiAn5Zue6K6/JwogICAgICAvLyAgIH0pCiAgICAgIC8vIH0KICAgICAgLy8gaWYgKHRoaXMuY3JtLnByb2R1Y3QgJiYgdGhpcy5jcm0ucHJvZHVjdC5zYXZlKSB7CiAgICAgIC8vICAgYWRkSXRlbXMucHVzaCh7CiAgICAgIC8vICAgICBpY29uOiAncHJvZHVjdCcsCiAgICAgIC8vICAgICBpbmRleDogJ3Byb2R1Y3QnLAogICAgICAvLyAgICAgbGFiZWw6ICfkuqflk4EnCiAgICAgIC8vICAgfSkKICAgICAgLy8gfQogICAgICByZXR1cm4gYWRkSXRlbXMKICAgIH0sCiAgICBxdWlja0FkZE9mZnNldCgpIHsKICAgICAgcmV0dXJuIE1hdGgucm91bmQodGhpcy5xdWlja0FkZExpc3QubGVuZ3RoIC8gMikgKiAyNQogICAgfQogIH0sCgogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldGNybU1lc3NhZ051bSgpCiAgfSwKCiAgbW91bnRlZCgpIHt9LAoKICBtZXRob2RzOiB7CiAgICBuYXZDbGljayhpbmRleCkge30sCgogICAgYWRkU2tpcChpdGVtKSB7CiAgICAgIHRoaXMuY3JlYXRlQWN0aW9uID0gewogICAgICAgIHR5cGU6ICdzYXZlJywKICAgICAgICBpZDogJycsCiAgICAgICAgZGF0YToge30KICAgICAgfQogICAgICB0aGlzLmNyZWF0ZUNSTVR5cGUgPSBpdGVtLmluZGV4CiAgICAgIHRoaXMuaXNDcmVhdGUgPSB0cnVlCiAgICB9LAoKICAgIC8qKgogICAgICog6I635Y+W5raI5oGv5pWwCiAgICAgKi8KICAgIGdldGNybU1lc3NhZ051bSgpIHsKICAgICAgLy8gdGhpcy4kc3RvcmUKICAgICAgLy8gICAuZGlzcGF0Y2goJ0dldE1lc3NhZ2VOdW0nKQogICAgICAvLyAgIC50aGVuKHJlcyA9PiB7fSkKICAgICAgLy8gICAuY2F0Y2goKCkgPT4ge30pCiAgICB9LAoKICAgIC8qKgogICAgICog6I+c5Y2V6ZKi6Z6tCiAgICAgKi8KICAgIGhhbmRsZVNlbGVjdCgpIHsKICAgICAgLy8gdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ0dldE1lc3NhZ2VOdW0nKQogICAgfSwKCiAgICAvKioKICAgICAqIOaWsOW7uuWuouaIt+WQjOaXtuaWsOW7uuiBlOezu+S6ugogICAgICovCiAgICAvLyDliJvlu7rmlbDmja7pobXpnaIg5L+d5a2Y5oiQ5YqfCiAgICBjcmVhdGVTYXZlU3VjY2VzcyhkYXRhKSB7CiAgICAgIGlmIChkYXRhICYmIGRhdGEuY3JlYXRlQ29udGFjdHMpIHsKICAgICAgICBpZiAoZGF0YS50eXBlID09PSAnY3VzdG9tZXInKSB7CiAgICAgICAgICB0aGlzLmNyZWF0ZUNSTVR5cGUgPSAnY29udGFjdHMnCiAgICAgICAgICB0aGlzLmNyZWF0ZUFjdGlvbiA9IHsKICAgICAgICAgICAgdHlwZTogJ3JlbGF0aXZlJywKICAgICAgICAgICAgY3JtVHlwZTogJ2N1c3RvbWVyJywKICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgIGN1c3RvbWVyOiBkYXRhLmRhdGEKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgdGhpcy5pc0NyZWF0ZSA9IHRydWUKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["OkrLayout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"OkrLayout.vue","sourceRoot":"src/layout","sourcesContent":["<template>\n  <el-container>\n    hehe\n    <el-header class=\"nav-container\">\n      <navbar\n        nav-index=\"/crm\"\n        @nav-items-click=\"navClick\"\n      />\n    </el-header>\n    <el-container>\n      <sidebar\n        :items=\"okrRouters\"\n        :add-offset=\"quickAddOffset\"\n        create-button-title=\"快速创建\"\n        main-router=\"crm\"\n        @select=\"handleSelect\"\n      >\n        <div\n          slot=\"add\"\n          class=\"quick-add\"\n        >\n          <div class=\"quick-add-content\">\n            <p\n              v-for=\"(item, index) in quickAddList\"\n              :key=\"index\"\n              @click=\"addSkip(item)\"\n            >\n              <i\n                :class=\"['wk', 'wk-' + item.icon]\"\n              /><span>{{ item.label }}</span></p>\n          </div>\n        </div>\n      </sidebar>\n      <el-main\n        id=\"crm-main-container\"\n        style=\"padding: 0; backgroundColor: 'pink';\"\n      >\n        <app-main />\n      </el-main>\n    </el-container>\n  </el-container>\n</template>\n\n<script>\nimport { Navbar, Sidebar, AppMain } from './components'\nimport { mapGetters } from 'vuex'\nimport Layout from '@/layout/OkrLayout'\nimport { constantRoutes } from '@/router/index.js'\n\nexport default {\n  name: 'OkrLayout',\n\n  components: {\n    Navbar,\n    Sidebar,\n    AppMain\n  },\n\n  data() {\n    return {\n      isCreate: false,\n      createAction: null,\n      createCRMType: ''\n    }\n  },\n\n  computed: {\n    okrRouters() {\n      const a = constantRoutes\n      return constantRoutes\n    },\n    crm() { return {} },\n    // ...mapGetters(['crm', 'crmRouters']),\n    // 快捷添加\n    quickAddList() {\n      var addItems = []\n      // if (this.crm.leads && this.crm.leads.save) {\n      //   addItems.push({\n      //     icon: 'leads',\n      //     index: 'leads',\n      //     label: '线索'\n      //   })\n      // }\n      // if (this.crm.customer && this.crm.customer.save) {\n      //   addItems.push({\n      //     icon: 'customer',\n      //     index: 'customer',\n      //     label: '客户'\n      //   })\n      // }\n      // if (this.crm.contacts && this.crm.contacts.save) {\n      //   addItems.push({\n      //     icon: 'contacts',\n      //     index: 'contacts',\n      //     label: '联系人'\n      //   })\n      // }\n      // if (this.crm.business && this.crm.business.save) {\n      //   addItems.push({\n      //     icon: 'business',\n      //     index: 'business',\n      //     label: '商机'\n      //   })\n      // }\n\n      // if (this.crm.contract && this.crm.contract.save) {\n      //   addItems.push({\n      //     icon: 'contract',\n      //     index: 'contract',\n      //     label: '合同'\n      //   })\n      // }\n      // if (this.crm.receivables && this.crm.receivables.save) {\n      //   addItems.push({\n      //     icon: 'receivables',\n      //     index: 'receivables',\n      //     label: '回款'\n      //   })\n      // }\n      // if (this.crm.invoice && this.crm.invoice.save) {\n      //   addItems.push({\n      //     icon: 'invoice',\n      //     index: 'invoice',\n      //     label: '发票'\n      //   })\n      // }\n      // if (this.crm.visit && this.crm.visit.save) {\n      //   addItems.push({\n      //     icon: 'house',\n      //     index: 'visit',\n      //     label: '回访'\n      //   })\n      // }\n      // if (this.crm.product && this.crm.product.save) {\n      //   addItems.push({\n      //     icon: 'product',\n      //     index: 'product',\n      //     label: '产品'\n      //   })\n      // }\n      return addItems\n    },\n    quickAddOffset() {\n      return Math.round(this.quickAddList.length / 2) * 25\n    }\n  },\n\n  created() {\n    this.getcrmMessagNum()\n  },\n\n  mounted() {},\n\n  methods: {\n    navClick(index) {},\n\n    addSkip(item) {\n      this.createAction = {\n        type: 'save',\n        id: '',\n        data: {}\n      }\n      this.createCRMType = item.index\n      this.isCreate = true\n    },\n\n    /**\n     * 获取消息数\n     */\n    getcrmMessagNum() {\n      // this.$store\n      //   .dispatch('GetMessageNum')\n      //   .then(res => {})\n      //   .catch(() => {})\n    },\n\n    /**\n     * 菜单钢鞭\n     */\n    handleSelect() {\n      // this.$store.dispatch('GetMessageNum')\n    },\n\n    /**\n     * 新建客户同时新建联系人\n     */\n    // 创建数据页面 保存成功\n    createSaveSuccess(data) {\n      if (data && data.createContacts) {\n        if (data.type === 'customer') {\n          this.createCRMType = 'contacts'\n          this.createAction = {\n            type: 'relative',\n            crmType: 'customer',\n            data: {\n              customer: data.data\n            }\n          }\n          this.isCreate = true\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n// @import './styles/common.scss';\n.el-container {\n  min-height: 0;\n  height: 100%;\n}\n.aside-container {\n  position: relative;\n  background-color: #2d3037;\n  box-sizing: border-box;\n}\n\n.nav-container {\n  padding: 0;\n  box-shadow: 0px 1px 2px #dbdbdb;\n  z-index: 100;\n  min-width: 1200px;\n}\n</style>\n"]}]}