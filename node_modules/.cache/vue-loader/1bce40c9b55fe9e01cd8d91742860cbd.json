{"remainingRequest":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/caichaosen/Code/web/hrm-ui2/src/layout/components/SystemMessage.vue?vue&type=style&index=0&id=41e7d00a&lang=scss&scoped=true&","dependencies":[{"path":"/Users/caichaosen/Code/web/hrm-ui2/src/layout/components/SystemMessage.vue","mtime":1612489481008},{"path":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/style-resources-loader/lib/index.js","mtime":499162500000},{"path":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5mdWxsLWNvbnRhaW5lciB7CiAgcG9zaXRpb246IGZpeGVkOwogIHRvcDogMDsKICByaWdodDogMDsKICBib3R0b206IDA7CiAgbGVmdDogMDsKICBvdmVyZmxvdzogYXV0bzsKICBtYXJnaW46IDA7CiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjMpOwp9CgouZC12aWV3IHsKICBwb3NpdGlvbjogZml4ZWQ7CiAgd2lkdGg6IDUzMHB4OwogIHRvcDogMHB4OwogIGJvdHRvbTogMHB4OwogIHJpZ2h0OiAwcHg7CiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7CiAgOjp2LWRlZXAgLmVsLWNhcmRfX2JvZHkgewogICAgaGVpZ2h0OiAxMDAlOwogIH0KfQoKLnNtLW1haW4gewogIGhlaWdodDogMTAwJTsKICBwb3NpdGlvbjogcmVsYXRpdmU7CgogICZfX2hkIHsKICAgIHBhZGRpbmc6IDAgMjBweDsKICAgIGhlaWdodDogNTBweDsKICAgIGxpbmUtaGVpZ2h0OiA1MHB4OwogICAgZm9udC1zaXplOiAxNHB4OwogICAgY29sb3I6ICMzMzM7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjdmOGZhOwoKICAgIC50aXRsZSB7CiAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICB9CgogICAgLm5vdGljZS1idG4gewogICAgICBmbG9hdDogcmlnaHQ7CiAgICAgIG1hcmdpbi10b3A6IDEwcHg7CiAgICB9CiAgfQoKICAmX19iZCB7CiAgICBvdmVyZmxvdy15OiBhdXRvOwogIH0KCiAgJl9fZnQgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgbGVmdDogMDsKICAgIHJpZ2h0OiAwOwogICAgYm90dG9tOiAtMXB4OwogICAgaGVpZ2h0OiA1MHB4OwogICAgYmFja2dyb3VuZC1jb2xvcjogI2Y3ZjhmYTsKICAgIHBhZGRpbmc6IDAgMTVweDsKCiAgICAuc3dpdGNoLXJlYWQgewogICAgICBmbGV4OiAxOwogICAgICAmX190aXRsZSB7CiAgICAgICAgZm9udC1zaXplOiAxM3B4OwogICAgICAgIG1hcmdpbi1sZWZ0OiAxMHB4OwogICAgICAgIGNvbG9yOiAjMzMzOwogICAgICB9CiAgICB9CgogICAgLm1vcmUgewogICAgICBmbGV4LXNocmluazogMDsKICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgfQoKICAgIC5tb3JlOmhvdmVyIHsKICAgICAgY29sb3I6ICR4ci1jb2xvci1wcmltYXJ5OwogICAgfQogIH0KfQoKLy8g6I+c5Y2VCi5tZW51IHsKICBvdmVyZmxvdy14OiBhdXRvOwogIG92ZXJmbG93LXk6IGhpZGRlbjsKICBwYWRkaW5nLXJpZ2h0OiAxNXB4OwogIG1hcmdpbi1ib3R0b206IDE1cHg7CiAgLy8gbGluZS1oZWlnaHQ6IDYwcHg7CiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICR4ci1ib3JkZXItY29sb3ItYmFzZTsKICAvLyBib3JkZXItYm90dG9tOiAxcHggc29saWQgJHhyLWJvcmRlci1jb2xvci1iYXNlOwoKICAuZWwtYnV0dG9uIHsKICAgIGNvbG9yOiAjNjY2OwogICAgbWFyZ2luLWxlZnQ6IDE1cHg7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkeHItLWJhY2tncm91bmQtY29sb3ItYmFzZTsKICAgIGJvcmRlci1jb2xvcjogJHhyLS1iYWNrZ3JvdW5kLWNvbG9yLWJhc2U7CiAgICBmb250LXNpemU6IDEycHg7CiAgICBoZWlnaHQ6IDI4cHg7CiAgICBib3JkZXItcmFkaXVzOiAxNHB4OwogICAgOjp2LWRlZXAgaSB7CiAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgbWFyZ2luLXJpZ2h0OiA1cHg7CiAgICB9CiAgfQoKICAuZWwtYnV0dG9uLS1wcmltYXJ5LmlzLWN1cnJlbnQsCiAgLmVsLWJ1dHRvbi0tcHJpbWFyeTpob3ZlciB7CiAgICBiYWNrZ3JvdW5kOiAkeHItY29sb3ItcHJpbWFyeTsKICAgIGJvcmRlci1jb2xvcjogJHhyLWNvbG9yLXByaW1hcnk7CiAgICBjb2xvcjogI2ZmZmZmZjsKICB9CgogIC5lbC1iYWRnZSB7CiAgICBtYXJnaW4tdG9wOiAxNXB4OwogIH0KfQoKLnNjcm9sbC1ib3R0b20tdGlwcyB7CiAgbWFyZ2luOiAxNXB4IDAgNjVweDsKfQoKLmVsLWJhZGdlIHsKICA6OnYtZGVlcCAuZWwtYmFkZ2VfX2NvbnRlbnQuaXMtZml4ZWQgewogICAgei1pbmRleDogMjsKICB9Cn0K"},{"version":3,"sources":["SystemMessage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8gBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"SystemMessage.vue","sourceRoot":"src/layout/components","sourcesContent":["<template>\n  <div\n    v-show=\"visible\"\n    class=\"full-container\"\n  >\n    <!-- <slide-view\n      v-if=\"showDetail\"\n      :show-close=\"false\"\n      :no-listener-class=\"['bell-message-hook']\"\n      class=\"d-view\"\n      @close=\"hiddenView\"\n    >\n      <div class=\"sm-main\">\n        <div class=\"sm-main__hd\">\n          <span class=\"title\">{{ title }}</span>\n          <el-button\n            v-if=\"permissionSave && onlyAnnouncement\"\n            icon=\"el-icon-plus\"\n            class=\"notice-btn\"\n            type=\"text\"\n            @click=\"createNotice\"\n          >新建公告</el-button>\n        </div>\n\n        <flexbox\n          v-if=\"!onlyAnnouncement\"\n          class=\"menu\"\n          wrap=\"wrap\"\n        >\n          <el-badge\n            v-for=\"(item, index) in menuList\"\n            :key=\"index\"\n            :value=\"unreadNums[item.countKey]\"\n            :hidden=\"!unreadNums[item.countKey] || unreadNums[item.countKey] == 0\"\n            :max=\"99\"\n          >\n            <el-button\n              :class=\"{'is-current': menuLabel == item.label}\"\n              type=\"primary\"\n              @click.native=\"menuClick(item.label)\"\n            >{{ item.name }}</el-button>\n          </el-badge>\n        </flexbox>\n\n        <div\n          :style=\"{ height: contentHeight }\"\n          class=\"sm-main__bd\"\n        >\n          <div\n            :key=\"scrollKey\"\n            v-infinite-scroll=\"getList\"\n            infinite-scroll-distance=\"100\"\n            infinite-scroll-disabled=\"scrollDisabled\"\n          >\n            <message-cell\n              v-for=\"(item, index) in list\"\n              :key=\"index\"\n              :data=\"item\"\n              :data-index=\"index\"\n              @detail=\"checkCRMDetail\"\n              @download=\"downloadError\"\n              @read=\"readMessageClick\"\n              @delete=\"deleteMessageClick\"\n            />\n          </div>\n          <p\n            v-if=\"loading\"\n            class=\"scroll-bottom-tips\"\n          >加载中...</p>\n          <p\n            v-if=\"noMore\"\n            class=\"scroll-bottom-tips\"\n          >没有更多了</p>\n        </div>\n\n        <flexbox class=\"sm-main__ft\">\n          <div class=\"switch-read\">\n            <el-switch\n              v-model=\"isUnRead\"\n              @change=\"refreshList\"\n            />\n            <span class=\"switch-read__title\">仅显示未读消息</span>\n          </div>\n          <el-dropdown\n            trigger=\"click\"\n            @command=\"handleCommand\"\n          >\n            <i\n              class=\"el-icon-more more\"\n            />\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item\n                icon=\"el-icon-check\"\n                command=\"read\"\n              >{{ `全部${currentMenu.label == 'all' ? '' : currentMenu.name}标记为已读` }}</el-dropdown-item>\n              <el-dropdown-item\n                icon=\"wk wk-s-delete\"\n                command=\"delete\"\n              >{{ `删除${currentMenu.name}已读消息` }}</el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n        </flexbox>\n      </div>\n    </slide-view> -->\n\n    <!-- CRM详情 -->\n    <!-- <c-r-m-full-screen-detail\n      :id=\"relationID\"\n      :visible.sync=\"showFullDetail\"\n      :crm-type=\"relationCrmType\"\n    /> -->\n\n    <!-- <today-list-detail\n      :id=\"relationID\"\n      :show-today-detail=\"showTodayDetail\"\n      :today-detail-data=\"todayDetailData\"\n      @deleteSuccess=\"todayHandle\"\n      @createSuccess=\"todayHandle\"\n      @close=\"showTodayDetail = false\"/> -->\n  </div>\n</template>\n\n<script>\n// import {\n//   systemMessageListAPI,\n//   systemMessageReadAPI,\n//   systemMessageReadAllAPI,\n//   systemMessageClearAPI,\n//   systemMessageDeleteByIdAPI } from '@/api/common'\n// import {\n//   crmDownImportErrorAPI\n// } from '@/api/crm/common'\n// import SlideView from '@/components/SlideView'\nimport MessageCell from './MessageCell'\n\nimport { getMaxIndex, downloadExcelWithResData } from '@/utils/index'\nimport { mapGetters } from 'vuex'\n\nexport default {\n  // 导航头部系统消息\n  name: 'SystemMessage',\n  components: {\n    // SlideView,\n    MessageCell\n    // CRMFullScreenDetail: () =>\n    //   import('@/components/CRMFullScreenDetail')\n  },\n  props: {\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    // 仅公告\n    onlyAnnouncement: {\n      type: Boolean,\n      default: false\n    },\n    unreadNums: Object\n  },\n  data() {\n    return {\n      showTodayDetail: false,\n      todayDetailData: {},\n      showDetail: false,\n      // 1 任务 2 日志 3 oa审批 4公告 5 日程 6 客户管理\n      menuLabel: 'all',\n\n      // 公告\n      announcementAddShow: false,\n\n      // 列表\n      list: [],\n      loading: false,\n      noMore: false,\n      scrollKey: Date.now(),\n      page: 1,\n      isUnRead: false, // 仅展示未读\n\n      // CRM详情\n      showFullDetail: false, // 查看相关客户管理详情\n      relationID: '', // 相关ID参数\n      relationCrmType: '' // 相关类型\n    }\n  },\n  computed: {\n    ...mapGetters(['oa', 'crm', 'project']),\n    permissionSave() {\n      return this.oa && this.oa.announcement && this.oa.announcement.save\n    },\n    title() {\n      if (this.onlyAnnouncement) {\n        return this.unreadNums.announceCount && this.unreadNums.announceCount > 0 ? `公告（${this.unreadNums.announceCount}）` : '公告'\n      }\n      return this.unreadNums.allCunt > 0 ? `通知（${this.unreadNums.allCunt}）` : '通知'\n    },\n\n    scrollDisabled() {\n      return this.loading || this.noMore\n    },\n\n    labelValue() {\n      if (this.onlyAnnouncement) {\n        return 4\n      }\n      return this.menuLabel == 'all' ? '' : this.menuLabel\n    },\n\n    contentHeight() {\n      if (this.menuList.length > 7) {\n        return 'calc(100% - 110px)'\n      }\n      return 'calc(100% - 155px)'\n    },\n\n    menuList() {\n      const menuList = [{\n        name: '全部',\n        label: 'all',\n        countKey: 'allCount'\n      }]\n\n      if (this.oa) {\n        // menuList.push({\n        //   name: '公告',\n        //   label: 4,\n        //   countKey: 'announceCount'\n        // })\n\n        if (this.oa.taskExamine) {\n          menuList.push({\n            name: '办公审批',\n            label: 3,\n            countKey: 'examineCount'\n          })\n        }\n      }\n\n      if ((this.oa && this.oa.taskExamine) || this.project) {\n        menuList.push({\n          name: '任务',\n          label: 1,\n          countKey: 'taskCount'\n        })\n      }\n\n      if (this.oa && this.oa.log) {\n        menuList.push({\n          name: '日志',\n          label: 2,\n          countKey: 'logCount'\n        })\n      }\n\n      if (this.crm) {\n        menuList.push({\n          name: '客户管理',\n          label: 6,\n          countKey: 'crmCount'\n        })\n      }\n\n      if (this.oa && this.oa.calendar) {\n        menuList.push({\n          name: '日程',\n          label: 5,\n          countKey: 'eventCount'\n        })\n      }\n\n      return menuList\n    },\n\n    currentMenu() {\n      return this.menuList.find(item => {\n        return item.label === this.menuLabel\n      })\n    }\n  },\n  watch: {\n    visible: {\n      handler(val) {\n        this.showDetail = val\n        if (val) {\n          this.$el.style.zIndex = getMaxIndex()\n          this.refreshList()\n        }\n      },\n      immediate: true\n    },\n    showDetail(val) {\n      if (!val) {\n        setTimeout(() => {\n          this.$emit('update:visible', false)\n        }, 350)\n      }\n    }\n  },\n  mounted() {\n    document.body.appendChild(this.$el)\n    this.$el.addEventListener('click', this.handleDocumentClick, false)\n  },\n\n  beforeDestroy() {\n    // remove DOM node after destroy\n    if (this.$el && this.$el.parentNode) {\n      this.$el.parentNode.removeChild(this.$el)\n      this.$el.removeEventListener('click', this.handleDocumentClick, false)\n    }\n  },\n  methods: {\n    /**\n     * 日程事件\n     */\n    todayHandle() {\n      this.$bus.emit('handleSuccess')\n      this.showTodayDetail = false\n    },\n\n    /**\n     * 新建公告\n     */\n    createNotice() {\n      this.announcementAddShow = true\n    },\n\n    announcementSubmiteSuccess() {\n      setTimeout(() => {\n        this.refreshList()\n        this.$emit('update-count')\n      }, 1000)\n    },\n\n    /**\n     * 身体\n     */\n\n    /**\n     * 菜单点击\n     */\n    menuClick(label) {\n      this.menuLabel = label\n      this.refreshList()\n    },\n\n    /**\n     * 刷新列表\n     */\n    refreshList() {\n      this.page = 1\n      this.list = []\n      this.noMore = false\n      this.scrollKey = Date.now()\n    },\n\n    /**\n     * 获取列表\n     */\n    getList() {\n      this.loading = true\n      const params = {\n        page: this.page,\n        limit: 15,\n        label: this.labelValue\n      }\n      if (this.isUnRead) {\n        params.isRead = 0\n      }\n      // systemMessageListAPI(params)\n      //   .then(res => {\n      //     this.loading = false\n      //     if (this.labelValue == params.label) {\n      //       if (!this.noMore) {\n      //         if (this.page == 1) {\n      //           this.list = res.data.list\n      //         } else {\n      //           this.list = this.list.concat(res.data.list)\n      //         }\n      //         this.page++\n      //       }\n      //       this.noMore = res.data.lastPage\n      //     } else {\n      //       this.refreshList()\n      //     }\n      //   })\n      //   .catch(() => {\n      //     this.noMore = true\n      //     this.loading = false\n      //   })\n    },\n\n    /**\n     * 查看详情\n     */\n    checkCRMDetail(type, id, dataIndex, data) {\n      if (type === 'schedule') {\n        this.relationID = id\n        if (data.content) {\n          this.todayDetailData = JSON.parse(data.content)\n        }\n        this.showTodayDetail = true\n      } else {\n        this.relationID = id\n        this.relationCrmType = type\n        this.showFullDetail = true\n      }\n    },\n\n    /**\n     * 下载错误数据\n     */\n    downloadError(messageId) {\n      // crmDownImportErrorAPI({ messageId })\n      //   .then(res => {\n      //     downloadExcelWithResData(res)\n      //   })\n      //   .catch(() => {\n      //   })\n    },\n\n    /**\n     * 读取消息\n     */\n    readMessageClick(messageId, index) {\n      // systemMessageReadAPI({ messageId })\n      //   .then(res => {\n      //     this.list[index].isRead = 1\n      //     this.$emit('update-count')\n      //   })\n      //   .catch(() => {\n      //   })\n    },\n\n    deleteMessageClick(messageId, index) {\n      // this.$confirm('确定删除这条消息?', '提示', {\n      //   confirmButtonText: '确定',\n      //   cancelButtonText: '取消',\n      //   type: 'warning'\n      // })\n      //   .then(() => {\n      //     systemMessageDeleteByIdAPI(messageId)\n      //       .then(res => {\n      //         this.list.splice(index, 1)\n      //         this.$emit('update-count')\n      //         this.$message.success('操作成功')\n      //       })\n      //       .catch(() => {})\n      //   })\n      //   .catch(() => {\n      //     this.$message({\n      //       type: 'info',\n      //       message: '已取消操作'\n      //     })\n      //   })\n    },\n\n    handleCommand(action) {\n      if (action === 'delete') {\n        this.allDeleteClick()\n      } else {\n        this.allMarkDoneClick()\n      }\n    },\n\n    /**\n     * 全部标记完成\n     */\n    allMarkDoneClick() {\n      // systemMessageReadAllAPI({\n      //   label: this.labelValue\n      // })\n      //   .then(res => {\n      //     this.list.forEach(item => {\n      //       item.isRead = 1\n      //     })\n      //     this.$emit('update-count')\n      //   })\n      //   .catch(() => {\n      //   })\n    },\n\n    /**\n     * 全部删除\n     */\n    allDeleteClick() {\n      if (this.currentMenu) {\n        const name = this.currentMenu.label == 'all' ? '' : this.currentMenu.name\n        // this.$confirm(`确定删除全部${name}已读消息?`, '提示', {\n        //   confirmButtonText: '确定',\n        //   cancelButtonText: '取消',\n        //   type: 'warning'\n        // })\n        //   .then(() => {\n        //     systemMessageClearAPI({\n        //       label: this.labelValue\n        //     })\n        //       .then(res => {\n        //         this.refreshList()\n        //         this.$emit('update-count')\n        //         this.$message.success('操作成功')\n        //       })\n        //       .catch(() => {})\n        //   })\n        //   .catch(() => {\n        //     this.$message({\n        //       type: 'info',\n        //       message: '已取消操作'\n        //     })\n        //   })\n      }\n    },\n\n    hiddenView() {\n      this.showDetail = false\n    },\n\n    handleDocumentClick(e) {\n      e.stopPropagation()\n      if (this.$el == e.target) {\n        this.showDetail = false\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.full-container {\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow: auto;\n  margin: 0;\n  background-color: rgba(0, 0, 0, 0.3);\n}\n\n.d-view {\n  position: fixed;\n  width: 530px;\n  top: 0px;\n  bottom: 0px;\n  right: 0px;\n  background-color: white;\n  ::v-deep .el-card__body {\n    height: 100%;\n  }\n}\n\n.sm-main {\n  height: 100%;\n  position: relative;\n\n  &__hd {\n    padding: 0 20px;\n    height: 50px;\n    line-height: 50px;\n    font-size: 14px;\n    color: #333;\n    background-color: #f7f8fa;\n\n    .title {\n      font-weight: 600;\n    }\n\n    .notice-btn {\n      float: right;\n      margin-top: 10px;\n    }\n  }\n\n  &__bd {\n    overflow-y: auto;\n  }\n\n  &__ft {\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: -1px;\n    height: 50px;\n    background-color: #f7f8fa;\n    padding: 0 15px;\n\n    .switch-read {\n      flex: 1;\n      &__title {\n        font-size: 13px;\n        margin-left: 10px;\n        color: #333;\n      }\n    }\n\n    .more {\n      flex-shrink: 0;\n      cursor: pointer;\n    }\n\n    .more:hover {\n      color: $xr-color-primary;\n    }\n  }\n}\n\n// 菜单\n.menu {\n  overflow-x: auto;\n  overflow-y: hidden;\n  padding-right: 15px;\n  margin-bottom: 15px;\n  // line-height: 60px;\n  border-top: 1px solid $xr-border-color-base;\n  // border-bottom: 1px solid $xr-border-color-base;\n\n  .el-button {\n    color: #666;\n    margin-left: 15px;\n    background-color: $xr--background-color-base;\n    border-color: $xr--background-color-base;\n    font-size: 12px;\n    height: 28px;\n    border-radius: 14px;\n    ::v-deep i {\n      font-size: 12px;\n      margin-right: 5px;\n    }\n  }\n\n  .el-button--primary.is-current,\n  .el-button--primary:hover {\n    background: $xr-color-primary;\n    border-color: $xr-color-primary;\n    color: #ffffff;\n  }\n\n  .el-badge {\n    margin-top: 15px;\n  }\n}\n\n.scroll-bottom-tips {\n  margin: 15px 0 65px;\n}\n\n.el-badge {\n  ::v-deep .el-badge__content.is-fixed {\n    z-index: 2;\n  }\n}\n</style>\n"]}]}