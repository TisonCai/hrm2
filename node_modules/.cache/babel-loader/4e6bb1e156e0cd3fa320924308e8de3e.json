{"remainingRequest":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/babel-loader/lib/index.js!/Users/caichaosen/Code/web/hrm-ui2/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/caichaosen/Code/web/hrm-ui2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/caichaosen/Code/web/hrm-ui2/src/layout/components/Sidebar/SidebarItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/caichaosen/Code/web/hrm-ui2/src/layout/components/Sidebar/SidebarItem.vue","mtime":1612532451755},{"path":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/caichaosen/Code/web/hrm-ui2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvY2FpY2hhb3Nlbi9Db2RlL3dlYi9ocm0tdWkyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyIpOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7Cgp2YXIgX29iamVjdFNwcmVhZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi9Vc2Vycy9jYWljaGFvc2VuL0NvZGUvd2ViL2hybS11aTIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvb2JqZWN0U3ByZWFkMiIpKTsKCnZhciBfcGF0aCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgicGF0aCIpKTsKCnZhciBfdmFsaWRhdGUgPSByZXF1aXJlKCJAL3V0aWxzL3ZhbGlkYXRlIik7Cgp2YXIgX0l0ZW0gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4vSXRlbSIpKTsKCnZhciBfTGluayA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi9MaW5rIikpOwoKdmFyIF9GaXhpT1NCdWcgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4vRml4aU9TQnVnIikpOwoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIF9kZWZhdWx0ID0gewogIG5hbWU6ICdTaWRlYmFySXRlbScsCiAgY29tcG9uZW50czogewogICAgSXRlbTogX0l0ZW0uZGVmYXVsdCwKICAgIEFwcExpbms6IF9MaW5rLmRlZmF1bHQKICB9LAogIG1peGluczogW19GaXhpT1NCdWcuZGVmYXVsdF0sCiAgcHJvcHM6IHsKICAgIC8vIOWfuui3r+eUseWvueixoQogICAgaXRlbTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgLy8g54i2TGF5b3V05Z+66Lev55SxID09IGl0ZW0ucGF0aAogICAgYmFzZVBhdGg6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIGFjdGl2ZU1lbnU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIGNvbGxhcHNlOiBCb29sZWFuCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgLy8gVG8gZml4IGh0dHBzOi8vZ2l0aHViLmNvbS9QYW5KaWFDaGVuL3Z1ZS1hZG1pbi10ZW1wbGF0ZS9pc3N1ZXMvMjM3CiAgICAvLyBUT0RPOiByZWZhY3RvciB3aXRoIHJlbmRlciBmdW5jdGlvbgogICAgdGhpcy5vbmx5T25lQ2hpbGQgPSBudWxsOwogICAgcmV0dXJuIHt9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzU2luZ2xlTWVudTogZnVuY3Rpb24gaXNTaW5nbGVNZW51KCkgewogICAgICB2YXIgaXRlbSA9IHRoaXMuaXRlbTsKICAgICAgdmFyIG9ubHlPbmVDaGlsZCA9IHRoaXMub25seU9uZUNoaWxkIHx8IHt9OwogICAgICBpZiAoIWl0ZW0pIHJldHVybiBmYWxzZTsKICAgICAgdmFyIGlzU2luZ2xlTWVudSA9IHRoaXMuaGFzT25lU2hvd2luZ0NoaWxkKGl0ZW0uY2hpbGRyZW4sIGl0ZW0pICYmICghb25seU9uZUNoaWxkLmNoaWxkcmVuIHx8IG9ubHlPbmVDaGlsZC5ub1Nob3dpbmdDaGlsZHJlbikgJiYgIWl0ZW0uYWx3YXlzU2hvdzsKICAgICAgY29uc29sZS5sb2coJ2lzU2luZ2xlTWVudScsIGlzU2luZ2xlTWVudSk7CiAgICAgIHJldHVybiBpc1NpbmdsZU1lbnU7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDlj6rmnInkuIDkuKrlrZDot6/nlLHvvIzkuI3lgZrkuoznuqfoj5zljZUKICAgIGhhc09uZVNob3dpbmdDaGlsZDogZnVuY3Rpb24gaGFzT25lU2hvd2luZ0NoaWxkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGNoaWxkcmVuID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTsKICAgICAgdmFyIHBhcmVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkOwogICAgICB2YXIgc2hvd2luZ0NoaWxkcmVuID0gY2hpbGRyZW4uZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0uaGlkZGVuKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIFRlbXAgc2V0KHdpbGwgYmUgdXNlZCBpZiBvbmx5IGhhcyBvbmUgc2hvd2luZyBjaGlsZCkKICAgICAgICAgIF90aGlzLm9ubHlPbmVDaGlsZCA9IGl0ZW07CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pOyAvLyBXaGVuIHRoZXJlIGlzIG9ubHkgb25lIGNoaWxkIHJvdXRlciwgdGhlIGNoaWxkIHJvdXRlciBpcyBkaXNwbGF5ZWQgYnkgZGVmYXVsdAoKICAgICAgaWYgKHNob3dpbmdDaGlsZHJlbi5sZW5ndGggPT09IDEpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSAvLyBTaG93IHBhcmVudCBpZiB0aGVyZSBhcmUgbm8gY2hpbGQgcm91dGVyIHRvIGRpc3BsYXkKCgogICAgICBpZiAoc2hvd2luZ0NoaWxkcmVuLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMub25seU9uZUNoaWxkID0gKDAsIF9vYmplY3RTcHJlYWQyLmRlZmF1bHQpKCgwLCBfb2JqZWN0U3ByZWFkMi5kZWZhdWx0KSh7fSwgcGFyZW50KSwge30sIHsKICAgICAgICAgIHBhdGg6ICcnLAogICAgICAgICAgbm9TaG93aW5nQ2hpbGRyZW46IHRydWUKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKICAgIHJlc29sdmVQYXRoOiBmdW5jdGlvbiByZXNvbHZlUGF0aChyb3V0ZVBhdGgpIHsKICAgICAgaWYgKCgwLCBfdmFsaWRhdGUuaXNFeHRlcm5hbCkocm91dGVQYXRoKSkgewogICAgICAgIHJldHVybiByb3V0ZVBhdGg7CiAgICAgIH0KCiAgICAgIGlmICgoMCwgX3ZhbGlkYXRlLmlzRXh0ZXJuYWwpKHRoaXMuYmFzZVBhdGgpKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuYmFzZVBhdGg7CiAgICAgIH0KCiAgICAgIHJldHVybiBfcGF0aC5kZWZhdWx0LnJlc29sdmUodGhpcy5iYXNlUGF0aCwgcm91dGVQYXRoKTsKICAgIH0KICB9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"sources":["SidebarItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;AA4DA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,IAAA,EAAA,aAAA;AAAA,IAAA,OAAA,EAAA;AAAA,GAFA;AAGA,EAAA,MAAA,EAAA,CAAA,kBAAA,CAHA;AAIA,EAAA,KAAA,EAAA;AACA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAFA;AAMA;AACA,IAAA,QAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAPA;AAWA,IAAA,UAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAXA;AAeA,IAAA,QAAA,EAAA;AAfA,GAJA;AAqBA,EAAA,IArBA,kBAqBA;AACA;AACA;AACA,SAAA,YAAA,GAAA,IAAA;AACA,WAAA,EAAA;AACA,GA1BA;AA2BA,EAAA,QAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,UAAA,IAAA,GAAA,KAAA,IAAA;AACA,UAAA,YAAA,GAAA,KAAA,YAAA,IAAA,EAAA;AACA,UAAA,CAAA,IAAA,EAAA,OAAA,KAAA;AAEA,UAAA,YAAA,GAAA,KAAA,kBAAA,CAAA,IAAA,CAAA,QAAA,EAAA,IAAA,MAAA,CAAA,YAAA,CAAA,QAAA,IAAA,YAAA,CAAA,iBAAA,KAAA,CAAA,IAAA,CAAA,UAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,cAAA,EAAA,YAAA;AACA,aAAA,YAAA;AACA;AATA,GA3BA;AAsCA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,kBAFA,gCAEA;AAAA;;AAAA,UAAA,QAAA,uEAAA,EAAA;AAAA,UAAA,MAAA;AACA,UAAA,eAAA,GAAA,QAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,IAAA,CAAA,MAAA,EAAA;AACA,iBAAA,KAAA;AACA,SAFA,MAEA;AACA;AACA,UAAA,KAAA,CAAA,YAAA,GAAA,IAAA;AACA,iBAAA,IAAA;AACA;AACA,OARA,CAAA,CADA,CAWA;;AACA,UAAA,eAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,eAAA,IAAA;AACA,OAdA,CAgBA;;;AACA,UAAA,eAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,aAAA,YAAA,+DAAA,MAAA;AAAA,UAAA,IAAA,EAAA,EAAA;AAAA,UAAA,iBAAA,EAAA;AAAA;AACA,eAAA,IAAA;AACA;;AAEA,aAAA,KAAA;AACA,KAzBA;AA0BA,IAAA,WA1BA,uBA0BA,SA1BA,EA0BA;AACA,UAAA,0BAAA,SAAA,CAAA,EAAA;AACA,eAAA,SAAA;AACA;;AACA,UAAA,0BAAA,KAAA,QAAA,CAAA,EAAA;AACA,eAAA,KAAA,QAAA;AACA;;AACA,aAAA,cAAA,OAAA,CAAA,KAAA,QAAA,EAAA,SAAA,CAAA;AACA;AAlCA;AAtCA,C","sourcesContent":["<template>\n  <div\n    v-if=\"!item.hidden\"\n    class=\"menu-wrapper\"\n  >\n    <template v-if=\"isSingleMenu\">\n      <el-tooltip\n        :disabled=\"!collapse\"\n        :content=\"onlyOneChild.title\"\n        effect=\"dark\"\n        placement=\"right\"\n      >\n        <app-link\n          v-if=\"!!onlyOneChild\"\n          :to=\"resolvePath(onlyOneChild.path)\"\n        >\n          <el-menu-item\n            :index=\"resolvePath(onlyOneChild.path)\"\n            :class=\"{ 'is-select': activeMenu == resolvePath(onlyOneChild.path)}\"\n          >\n            <item\n              :icon=\"onlyOneChild.icon||(item && item.icon)\"\n              :title=\"onlyOneChild.title\"\n              :num=\"onlyOneChild.num\"\n              :count=\"onlyOneChild.count\"\n              :collapse=\"collapse\"\n            />\n          </el-menu-item>\n        </app-link>\n      </el-tooltip>\n    </template>\n    <el-submenu\n      v-else\n      ref=\"subMenu\"\n      :index=\"resolvePath(item.path)\"\n      :class=\"{ 'is-select': activeMenu == resolvePath(item.path)}\"\n      popper-append-to-body\n    >\n      <template slot=\"title\">\n        <item\n          v-if=\"!!item\"\n          :icon=\"item && item.icon\"\n          :title=\"item.title\"\n          :num=\"item.num\"\n        />\n      </template>\n      <sidebar-item\n        v-for=\"child in item.children\"\n        :key=\"child.path\"\n        :is-nest=\"true\"\n        :item=\"child\"\n        :base-path=\"resolvePath(child.path)\"\n        :active-menu=\"activeMenu\"\n        class=\"nest-menu\"\n      />\n    </el-submenu>\n  </div>\n</template>\n\n<script>\nimport path from 'path'\nimport { isExternal } from '@/utils/validate'\nimport Item from './Item'\nimport AppLink from './Link'\nimport FixiOSBug from './FixiOSBug'\n\nexport default {\n  name: 'SidebarItem',\n  components: { Item, AppLink },\n  mixins: [FixiOSBug],\n  props: {\n    // 基路由对象\n    item: {\n      type: Object,\n      required: true\n    },\n    // 父Layout基路由 == item.path\n    basePath: {\n      type: String,\n      default: ''\n    },\n    activeMenu: {\n      type: String,\n      default: ''\n    },\n    collapse: Boolean\n  },\n  data() {\n    // To fix https://github.com/PanJiaChen/vue-admin-template/issues/237\n    // TODO: refactor with render function\n    this.onlyOneChild = null\n    return {}\n  },\n  computed: {\n    isSingleMenu() {\n      const item = this.item\n      const onlyOneChild = this.onlyOneChild || {}\n      if (!item) return false\n\n      const isSingleMenu = this.hasOneShowingChild(item.children, item) && (!onlyOneChild.children || onlyOneChild.noShowingChildren) && !item.alwaysShow\n      console.log('isSingleMenu', isSingleMenu)\n      return isSingleMenu\n    }\n  },\n  methods: {\n    // 只有一个子路由，不做二级菜单\n    hasOneShowingChild(children = [], parent) {\n      const showingChildren = children.filter(item => {\n        if (item.hidden) {\n          return false\n        } else {\n          // Temp set(will be used if only has one showing child)\n          this.onlyOneChild = item\n          return true\n        }\n      })\n\n      // When there is only one child router, the child router is displayed by default\n      if (showingChildren.length === 1) {\n        return true\n      }\n\n      // Show parent if there are no child router to display\n      if (showingChildren.length === 0) {\n        this.onlyOneChild = { ...parent, path: '', noShowingChildren: true }\n        return true\n      }\n\n      return false\n    },\n    resolvePath(routePath) {\n      if (isExternal(routePath)) {\n        return routePath\n      }\n      if (isExternal(this.basePath)) {\n        return this.basePath\n      }\n      return path.resolve(this.basePath, routePath)\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n@import './variables.scss';\n\n.menu-wrapper {\n  /deep/ .el-submenu__title {\n    height: auto;\n    line-height: normal;\n  }\n\n  /deep/ .el-submenu.is-active {\n    .el-submenu__title {\n      span,\n      i:first-child {\n        color: white;\n      }\n    }\n  }\n}\n\n.el-menu-item {\n  height: auto;\n  line-height: normal;\n  padding: 0 14px;\n  background-color: #001529 !important;\n  color: #bebec0;\n}\n\n.el-menu-item:not(.is-select) {\n  color: $menuText !important;\n}\n\n// element自带的有问题 is-active 换成 is-select\n.el-menu-item.is-select {\n  .menu-item-content {\n    background-color: #2362fb !important;\n    color: white !important;\n    /deep/ i {\n      color: white !important;\n    }\n  }\n}\n\n.el-menu-item:hover {\n  .menu-item-content {\n    background-color: rgba($color: #fff, $alpha: 0.1);\n    color: white;\n    /deep/ i {\n      color: white !important;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/layout/components/Sidebar"}]}